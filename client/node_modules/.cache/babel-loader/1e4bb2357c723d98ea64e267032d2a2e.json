{"ast":null,"code":"var _jsxFileName = \"/home/james/development/property-investor-dash/client/src/components/Login.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form as FinalForm, Field } from \"react-final-form\";\nimport { useHistory } from \"react-router-dom\";\nimport { loginUser } from \"../reducers/userReducer\";\nimport { required, minLength, isEmail, composeValidators } from \"../helpers/formValidatorHelper\";\nimport { Button, Spinner } from \"react-bootstrap\";\nimport \"./styles/Form.css\";\n\nconst Login = ({\n  loginUser,\n  user\n}) => {\n  const history = useHistory();\n\n  const onSubmit = values => {\n    loginUser(values.email, values.password);\n    history.push(\"/saved-dashboards\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"form-section\",\n    id: \"login-form-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-outer-container form-card-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-inner-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, user.isFetching ? /*#__PURE__*/React.createElement(Spinner, {\n    className: \"loading-spinner\",\n    animation: \"border\",\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }) : user.data.username ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"form-element logged-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \"User already logged in\") : /*#__PURE__*/React.createElement(FinalForm, {\n    onSubmit: onSubmit,\n    render: ({\n      handleSubmit\n    }) => /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-element\",\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Field, {\n      name: \"email\",\n      validate: composeValidators(isEmail, required),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, ({\n      input,\n      meta\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      className: \"form-control\",\n      placeholder: \"example@email.com\",\n      type: \"email\"\n    }, input, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 27\n      }\n    })), meta.error && meta.touched && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"form-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    }, meta.error)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Field, {\n      name: \"password\",\n      validate: composeValidators(required, minLength(3)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, ({\n      input,\n      meta\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      className: \"form-control\",\n      placeholder: \"Password\",\n      type: \"password\"\n    }, input, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 27\n      }\n    })), meta.error && meta.touched && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"form-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, meta.error)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-button-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"form-button\",\n      id: \"form-submit\",\n      type: \"submit\",\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, \"Submit\"))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nconst mapDispatchToProps = {\n  loginUser\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/components/Login.js"],"names":["React","connect","Form","FinalForm","Field","useHistory","loginUser","required","minLength","isEmail","composeValidators","Button","Spinner","Login","user","history","onSubmit","values","email","password","push","isFetching","data","username","handleSubmit","input","meta","error","touched","mapStateToProps","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form as FinalForm, Field } from \"react-final-form\";\nimport { useHistory } from \"react-router-dom\";\nimport { loginUser } from \"../reducers/userReducer\";\nimport {\n  required,\n  minLength,\n  isEmail,\n  composeValidators,\n} from \"../helpers/formValidatorHelper\";\nimport { Button, Spinner } from \"react-bootstrap\";\nimport \"./styles/Form.css\";\n\nconst Login = ({ loginUser, user }) => {\n  const history = useHistory();\n  const onSubmit = (values) => {\n    loginUser(values.email, values.password);\n    history.push(\"/saved-dashboards\");\n  };\n\n  return (\n    <section className=\"form-section\" id=\"login-form-section\">\n      <div className=\"form-outer-container form-card-container\">\n        <div className=\"form-header\">\n          <h1>Login</h1>\n        </div>\n        <div className=\"form-inner-container\">\n          {user.isFetching ? (\n            <Spinner\n              className=\"loading-spinner\"\n              animation=\"border\"\n              variant=\"primary\"\n            />\n          ) : user.data.username ? (\n            <i className=\"form-element logged-in\">User already logged in</i>\n          ) : (\n            <FinalForm\n              onSubmit={onSubmit}\n              render={({ handleSubmit }) => (\n                <form className=\"form-element\" onSubmit={handleSubmit}>\n                  <div className=\"form-item\">\n                    <h5>Email</h5>\n                    <Field\n                      name=\"email\"\n                      validate={composeValidators(isEmail, required)}\n                    >\n                      {({ input, meta }) => (\n                        <div>\n                          <input\n                            className=\"form-control\"\n                            placeholder=\"example@email.com\"\n                            type=\"email\"\n                            {...input}\n                            required\n                          />\n                          {meta.error && meta.touched && (\n                            <span className=\"form-error\">{meta.error}</span>\n                          )}\n                        </div>\n                      )}\n                    </Field>\n                  </div>\n                  <div className=\"form-item\">\n                    <h5>Password</h5>\n                    <Field\n                      name=\"password\"\n                      validate={composeValidators(required, minLength(3))}\n                    >\n                      {({ input, meta }) => (\n                        <div>\n                          <input\n                            className=\"form-control\"\n                            placeholder=\"Password\"\n                            type=\"password\"\n                            {...input}\n                            required\n                          />\n                          {meta.error && meta.touched && (\n                            <span className=\"form-error\">{meta.error}</span>\n                          )}\n                        </div>\n                      )}\n                    </Field>\n                  </div>\n                  <div className=\"form-button-container\">\n                    <Button\n                      className=\"form-button\"\n                      id=\"form-submit\"\n                      type=\"submit\"\n                      variant=\"primary\"\n                    >\n                      Submit\n                    </Button>\n                  </div>\n                </form>\n              )}\n            />\n          )}\n        </div>\n      </div>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n  };\n};\n\nconst mapDispatchToProps = {\n  loginUser,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}