{"ast":null,"code":"import _regeneratorRuntime from\"/home/james/development/property-investor-dash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/james/development/property-investor-dash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from\"react\";import{connect}from\"react-redux\";import{Form,Field}from\"react-final-form\";import{useHistory}from\"react-router-dom\";import{loginUser,createUser,demoUser}from\"../reducers/userReducer\";import{setNotification}from\"../reducers/notificationReducer\";import{setTab}from\"../reducers/navigationReducer\";import{required,minLength,isEmail,composeValidators}from\"../utils/formValidatorHelper\";import{CONSTANTS}from\"../static/constants\";import{Icon}from\"./Shared/Icon\";import UserIcon from\"../styles/svg/user.svg\";import CreateUserIcon from\"../styles/svg/create-user.svg\";import hero from\"../styles/images/hero.jpg\";var Login=function Login(_ref){var loginUser=_ref.loginUser,createUser=_ref.createUser,user=_ref.user,demoUser=_ref.demoUser,setNotification=_ref.setNotification,setTab=_ref.setTab,tab=_ref.tab;var history=useHistory();useEffect(function(){if(user.data.email){history.push(\"/saved-dashboards\");}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var handleLogin=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2){var email,password;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=_ref2.email,password=_ref2.password;_context.next=3;return loginUser(email,password);case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleLogin(_x){return _ref3.apply(this,arguments);};}();var handleForgotPassword=function handleForgotPassword(){setNotification(\"Forgot password clicked\",CONSTANTS.NOTIFICATION.MESSAGE);};var handleCreateUser=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref4){var email,password,checkPassword;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:email=_ref4.email,password=_ref4.password,checkPassword=_ref4.checkPassword;_context2.next=3;return createUser(email,password,checkPassword);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function handleCreateUser(_x2){return _ref5.apply(this,arguments);};}();var handleDemo=function handleDemo(){demoUser();};return/*#__PURE__*/React.createElement(\"div\",{className:\"vh100 w100 fade-in bg-blue-1 flex-row justify-c\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w100 vh100 h1080\"},/*#__PURE__*/React.createElement(\"div\",{className:\"h100 w100 img-cover opacity9\",style:{backgroundImage:\"url(\".concat(hero,\")\")}})),/*#__PURE__*/React.createElement(\"div\",{className:\"login-container flex-col justify-c m8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login r p20 m8 bs-3 bg-1 mw450 m-auto\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"bold text-center ts-4\"},\"PropertyInvestorDash\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-row mb16\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"tab-opt button-transp-s rt pl16 pr16 flex-row align-c justify-c jump \".concat(tab===CONSTANTS.TABS.LOGIN.LOGIN?\"active\":\"\"),onClick:function onClick(){return setTab(\"login\",CONSTANTS.TABS.LOGIN.LOGIN);}},/*#__PURE__*/React.createElement(Icon,{size:\"20px\",url:UserIcon,color:\"black\",hover:false,active:false}),/*#__PURE__*/React.createElement(\"span\",{className:\"ml8 f16 bold\"},\"Login\")),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"tab-opt button-transp-s rt pl16 pr16 flex-row align-c justify-c jump \".concat(tab===CONSTANTS.TABS.LOGIN.CREATEUSER?\"active\":\"\"),onClick:function onClick(){return setTab(\"login\",CONSTANTS.TABS.LOGIN.CREATEUSER);}},/*#__PURE__*/React.createElement(Icon,{size:\"20px\",url:CreateUserIcon,color:\"black\",hover:false,active:false}),/*#__PURE__*/React.createElement(\"span\",{className:\"ml8 f16 bold\"},\"Create Account\"))),tab===CONSTANTS.TABS.LOGIN.LOGIN&&/*#__PURE__*/React.createElement(Form,{onSubmit:handleLogin,render:function render(_ref6){var handleSubmit=_ref6.handleSubmit;return/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"login-email\",className:\"f16 mb8\"},\"Email\",/*#__PURE__*/React.createElement(\"span\",{className:\"font-red f12 bold ml4\"},\"*\")),/*#__PURE__*/React.createElement(Field,{name:\"email\",validate:composeValidators(isEmail,required)},function(_ref7){var input=_ref7.input,meta=_ref7.meta;return/*#__PURE__*/React.createElement(\"div\",{className:\"relative mb20\"},/*#__PURE__*/React.createElement(\"input\",Object.assign({id:\"login-email\",className:\"form-input bs-1 w100\",placeholder:\"example@email.com\",type:\"text\"},input)),meta.error&&meta.touched&&/*#__PURE__*/React.createElement(\"span\",{className:\"form-error f10\"},meta.error));}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"login-password\",className:\"f16 mb8\"},\"Email\",/*#__PURE__*/React.createElement(\"span\",{className:\"font-red f12 bold ml4\"},\"*\")),/*#__PURE__*/React.createElement(Field,{name:\"password\",validate:composeValidators(minLength(3),required)},function(_ref8){var input=_ref8.input,meta=_ref8.meta;return/*#__PURE__*/React.createElement(\"div\",{className:\"relative mb20\"},/*#__PURE__*/React.createElement(\"input\",Object.assign({id:\"login-password\",className:\"form-input bs-1 w100\",placeholder:\"Password\",type:\"password\"},input)),meta.error&&meta.touched&&/*#__PURE__*/React.createElement(\"span\",{className:\"form-error f10\"},meta.error));}),/*#__PURE__*/React.createElement(\"button\",{className:\"form-button-p font-white bs-2 w100 mt12 pt8 pb8 r\",type:\"submit\"},\"Login\"));}}),tab===CONSTANTS.TABS.LOGIN.CREATEUSER&&/*#__PURE__*/React.createElement(Form,{onSubmit:handleCreateUser,validate:function validate(values){var errors={};if(!values.checkPassword){errors.checkPassword=\"Required\";}if(values.password!==values.checkPassword){errors.checkPassword=\"Passwords must match\";}return errors;},render:function render(_ref9){var handleSubmit=_ref9.handleSubmit;return/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"create-email\",className:\"f16 mb8\"},\"Email\",/*#__PURE__*/React.createElement(\"span\",{className:\"font-red f12 bold ml4\"},\"*\")),/*#__PURE__*/React.createElement(Field,{name:\"email\",validate:composeValidators(isEmail,required)},function(_ref10){var input=_ref10.input,meta=_ref10.meta;return/*#__PURE__*/React.createElement(\"div\",{className:\"relative mb20\"},/*#__PURE__*/React.createElement(\"input\",Object.assign({id:\"create-email\",className:\"form-input bs-1 w100\",placeholder:\"example@email.com\",type:\"text\"},input)),meta.error&&meta.touched&&/*#__PURE__*/React.createElement(\"span\",{className:\"form-error f10\"},meta.error));}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"create-password\",className:\"f16 mb8\"},\"Password\",/*#__PURE__*/React.createElement(\"span\",{className:\"font-red f12 bold ml4\"},\"*\")),/*#__PURE__*/React.createElement(Field,{name:\"password\",validate:composeValidators(minLength(3),required)},function(_ref11){var input=_ref11.input,meta=_ref11.meta;return/*#__PURE__*/React.createElement(\"div\",{className:\"relative mb20\"},/*#__PURE__*/React.createElement(\"input\",Object.assign({id:\"create-password\",className:\"form-input bs-1 w100\",placeholder:\"Password\",type:\"password\"},input)),meta.error&&meta.touched&&/*#__PURE__*/React.createElement(\"span\",{className:\"form-error f10\"},meta.error));}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"create-confirm\",className:\"f16 mb8\"},\"Confirm Password\",/*#__PURE__*/React.createElement(\"span\",{className:\"font-red f12 bold ml4\"},\"*\")),/*#__PURE__*/React.createElement(Field,{name:\"checkPassword\"},function(_ref12){var input=_ref12.input,meta=_ref12.meta;return/*#__PURE__*/React.createElement(\"div\",{className:\"relative mb20\"},/*#__PURE__*/React.createElement(\"input\",Object.assign({id:\"create-confirm\",className:\"form-input bs-1 w100\",placeholder:\"Confirm Password\",type:\"password\"},input)),meta.error&&meta.touched&&/*#__PURE__*/React.createElement(\"span\",{className:\"form-error f10\"},meta.error));}),/*#__PURE__*/React.createElement(\"button\",{className:\"form-button-p font-white bs-2 w100 mt12 pt8 pb8 r\",type:\"submit\"},\"Create Account\"));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"login mw450\"},/*#__PURE__*/React.createElement(\"span\",{className:\"link font-n1\",onClick:handleForgotPassword},\"Forgot your password?\")),/*#__PURE__*/React.createElement(\"div\",{className:\"login mw450\"},/*#__PURE__*/React.createElement(\"span\",{className:\"link font-n1\",onClick:handleDemo},\"Try a demo account\"))));};var mapStateToProps=function mapStateToProps(state){return{user:state.user,tab:state.navigation.tabs.login};};var mapDispatchToProps={loginUser:loginUser,createUser:createUser,demoUser:demoUser,setNotification:setNotification,setTab:setTab};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/components/Login.js"],"names":["React","useEffect","connect","Form","Field","useHistory","loginUser","createUser","demoUser","setNotification","setTab","required","minLength","isEmail","composeValidators","CONSTANTS","Icon","hero","Login","user","tab","history","data","email","push","handleLogin","password","handleForgotPassword","NOTIFICATION","MESSAGE","handleCreateUser","checkPassword","handleDemo","backgroundImage","TABS","LOGIN","UserIcon","CREATEUSER","CreateUserIcon","handleSubmit","input","meta","error","touched","values","errors","mapStateToProps","state","navigation","tabs","login","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Field } from \"react-final-form\";\nimport { useHistory } from \"react-router-dom\";\nimport { loginUser, createUser, demoUser } from \"../reducers/userReducer\";\nimport { setNotification } from \"../reducers/notificationReducer\";\nimport { setTab } from \"../reducers/navigationReducer\";\nimport {\n  required,\n  minLength,\n  isEmail,\n  composeValidators,\n} from \"../utils/formValidatorHelper\";\nimport { CONSTANTS } from \"../static/constants\";\nimport { Icon } from \"./Shared/Icon\";\nimport UserIcon from \"../styles/svg/user.svg\";\nimport CreateUserIcon from \"../styles/svg/create-user.svg\";\nimport hero from \"../styles/images/hero.jpg\";\n\nconst Login = ({\n  loginUser,\n  createUser,\n  user,\n  demoUser,\n  setNotification,\n  setTab,\n  tab,\n}) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    if (user.data.email) {\n      history.push(\"/saved-dashboards\");\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleLogin = async ({ email, password }) => {\n    await loginUser(email, password);\n  };\n\n  const handleForgotPassword = () => {\n    setNotification(\"Forgot password clicked\", CONSTANTS.NOTIFICATION.MESSAGE);\n  };\n\n  const handleCreateUser = async ({ email, password, checkPassword }) => {\n    await createUser(email, password, checkPassword);\n  };\n\n  const handleDemo = () => {\n    demoUser();\n  };\n\n  return (\n    <div className=\"vh100 w100 fade-in bg-blue-1 flex-row justify-c\">\n      <div className=\"w100 vh100 h1080\">\n        <div\n          className=\"h100 w100 img-cover opacity9\"\n          style={{\n            backgroundImage: `url(${hero})`,\n          }}\n        />\n      </div>\n      <div className=\"login-container flex-col justify-c m8\">\n        <div className=\"login r p20 m8 bs-3 bg-1 mw450 m-auto\">\n          <h1 className=\"bold text-center ts-4\">PropertyInvestorDash</h1>\n          <div className=\"flex-row mb16\">\n            <button\n              type=\"button\"\n              className={`tab-opt button-transp-s rt pl16 pr16 flex-row align-c justify-c jump ${\n                tab === CONSTANTS.TABS.LOGIN.LOGIN ? \"active\" : \"\"\n              }`}\n              onClick={() => setTab(\"login\", CONSTANTS.TABS.LOGIN.LOGIN)}\n            >\n              <Icon\n                size={\"20px\"}\n                url={UserIcon}\n                color={\"black\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8 f16 bold\">Login</span>\n            </button>\n            <button\n              type=\"button\"\n              className={`tab-opt button-transp-s rt pl16 pr16 flex-row align-c justify-c jump ${\n                tab === CONSTANTS.TABS.LOGIN.CREATEUSER ? \"active\" : \"\"\n              }`}\n              onClick={() => setTab(\"login\", CONSTANTS.TABS.LOGIN.CREATEUSER)}\n            >\n              <Icon\n                size={\"20px\"}\n                url={CreateUserIcon}\n                color={\"black\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8 f16 bold\">Create Account</span>\n            </button>\n          </div>\n          {tab === CONSTANTS.TABS.LOGIN.LOGIN && (\n            <Form\n              onSubmit={handleLogin}\n              render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit}>\n                  <label htmlFor=\"login-email\" className=\"f16 mb8\">\n                    Email\n                    <span className=\"font-red f12 bold ml4\">*</span>\n                  </label>\n                  <Field\n                    name=\"email\"\n                    validate={composeValidators(isEmail, required)}\n                  >\n                    {({ input, meta }) => (\n                      <div className=\"relative mb20\">\n                        <input\n                          id=\"login-email\"\n                          className=\"form-input bs-1 w100\"\n                          placeholder=\"example@email.com\"\n                          type=\"text\"\n                          {...input}\n                        />\n                        {meta.error && meta.touched && (\n                          <span className=\"form-error f10\">{meta.error}</span>\n                        )}\n                      </div>\n                    )}\n                  </Field>\n                  <label htmlFor=\"login-password\" className=\"f16 mb8\">\n                    Email\n                    <span className=\"font-red f12 bold ml4\">*</span>\n                  </label>\n                  <Field\n                    name=\"password\"\n                    validate={composeValidators(minLength(3), required)}\n                  >\n                    {({ input, meta }) => (\n                      <div className=\"relative mb20\">\n                        <input\n                          id=\"login-password\"\n                          className=\"form-input bs-1 w100\"\n                          placeholder=\"Password\"\n                          type=\"password\"\n                          {...input}\n                        />\n                        {meta.error && meta.touched && (\n                          <span className=\"form-error f10\">{meta.error}</span>\n                        )}\n                      </div>\n                    )}\n                  </Field>\n                  <button\n                    className=\"form-button-p font-white bs-2 w100 mt12 pt8 pb8 r\"\n                    type=\"submit\"\n                  >\n                    Login\n                  </button>\n                </form>\n              )}\n            />\n          )}\n          {tab === CONSTANTS.TABS.LOGIN.CREATEUSER && (\n            <Form\n              onSubmit={handleCreateUser}\n              validate={(values) => {\n                const errors = {};\n                if (!values.checkPassword) {\n                  errors.checkPassword = \"Required\";\n                }\n                if (values.password !== values.checkPassword) {\n                  errors.checkPassword = \"Passwords must match\";\n                }\n                return errors;\n              }}\n              render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit}>\n                  <label htmlFor=\"create-email\" className=\"f16 mb8\">\n                    Email\n                    <span className=\"font-red f12 bold ml4\">*</span>\n                  </label>\n                  <Field\n                    name=\"email\"\n                    validate={composeValidators(isEmail, required)}\n                  >\n                    {({ input, meta }) => (\n                      <div className=\"relative mb20\">\n                        <input\n                          id=\"create-email\"\n                          className=\"form-input bs-1 w100\"\n                          placeholder=\"example@email.com\"\n                          type=\"text\"\n                          {...input}\n                        />\n                        {meta.error && meta.touched && (\n                          <span className=\"form-error f10\">{meta.error}</span>\n                        )}\n                      </div>\n                    )}\n                  </Field>\n                  <label htmlFor=\"create-password\" className=\"f16 mb8\">\n                    Password\n                    <span className=\"font-red f12 bold ml4\">*</span>\n                  </label>\n                  <Field\n                    name=\"password\"\n                    validate={composeValidators(minLength(3), required)}\n                  >\n                    {({ input, meta }) => (\n                      <div className=\"relative mb20\">\n                        <input\n                          id=\"create-password\"\n                          className=\"form-input bs-1 w100\"\n                          placeholder=\"Password\"\n                          type=\"password\"\n                          {...input}\n                        />\n                        {meta.error && meta.touched && (\n                          <span className=\"form-error f10\">{meta.error}</span>\n                        )}\n                      </div>\n                    )}\n                  </Field>\n                  <label htmlFor=\"create-confirm\" className=\"f16 mb8\">\n                    Confirm Password\n                    <span className=\"font-red f12 bold ml4\">*</span>\n                  </label>\n                  <Field name=\"checkPassword\">\n                    {({ input, meta }) => (\n                      <div className=\"relative mb20\">\n                        <input\n                          id=\"create-confirm\"\n                          className=\"form-input bs-1 w100\"\n                          placeholder=\"Confirm Password\"\n                          type=\"password\"\n                          {...input}\n                        />\n                        {meta.error && meta.touched && (\n                          <span className=\"form-error f10\">{meta.error}</span>\n                        )}\n                      </div>\n                    )}\n                  </Field>\n                  <button\n                    className=\"form-button-p font-white bs-2 w100 mt12 pt8 pb8 r\"\n                    type=\"submit\"\n                  >\n                    Create Account\n                  </button>\n                </form>\n              )}\n            />\n          )}\n        </div>\n        <div className=\"login mw450\">\n          <span className=\"link font-n1\" onClick={handleForgotPassword}>\n            Forgot your password?\n          </span>\n        </div>\n        <div className=\"login mw450\">\n          <span className=\"link font-n1\" onClick={handleDemo}>\n            Try a demo account\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n    tab: state.navigation.tabs.login,\n  };\n};\n\nconst mapDispatchToProps = {\n  loginUser,\n  createUser,\n  demoUser,\n  setNotification,\n  setTab,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}