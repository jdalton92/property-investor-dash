{"ast":null,"code":"import _slicedToArray from\"/home/james/development/property-investor-dash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{useHistory,useParams}from\"react-router-dom\";import{setModal}from\"../../reducers/navigationReducer\";import{CONSTANTS}from\"../../static/constants\";import{getDashboard,preSaveDashboard}from\"../../reducers/dashboardReducer\";import Tooltip from\"../Shared/Tooltip\";import{cumulativeChartParse,annualChartParse,tableParse,developerCalculation,developerMOCCalculation,fundingChartParse}from\"../../utils/developerDashboardDataParser\";import{currencyFormatter,percentageFormatter,IRRCalculation}from\"../../utils/dashboardHelper\";import{developerTooltip}from\"../../static/tooltipText\";import{Line,Bar}from\"react-chartjs-2\";import Loader from\"../Shared/Loader\";import{Icon}from\"../Shared/Icon\";import SaveIcon from\"../../styles/svg/save.svg\";import EditIcon from\"../../styles/svg/edit.svg\";import ExpandIcon from\"../../styles/svg/expand.svg\";import CollapseIcon from\"../../styles/svg/collapse.svg\";var DeveloperDashboard=function DeveloperDashboard(_ref){var isFetching=_ref.isFetching,preSave=_ref.preSave,currentDashboard=_ref.currentDashboard,getDashboard=_ref.getDashboard,preSaveDashboard=_ref.preSaveDashboard,setModal=_ref.setModal;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showPreFinanceCashflow=_useState2[0],setShowPreFinanceCashflow=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showPostFinanceCashflow=_useState4[0],setShowPostFinanceCashflow=_useState4[1];var id=useParams().id;var history=useHistory();useEffect(function(){if(id){getDashboard(id);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[id]);var handleSave=function handleSave(e){e.preventDefault();setModal(CONSTANTS.MODALS.SAVEDASHBOARD,true);};var handleEdit=function handleEdit(e){e.preventDefault();preSaveDashboard();if(id){history.push(\"/developer/edit/\".concat(id));}else{history.push(\"/developer/edit\");}};var isEmpty=function isEmpty(obj){return Object.keys(obj).length===0&&obj.constructor===Object;};if(isFetching||isEmpty(currentDashboard.values)&&id){return/*#__PURE__*/React.createElement(Loader,null);}else{if(isEmpty(currentDashboard.values)){history.push(\"/developer/edit\");}var preFinanceMessage=developerTooltip.cashflowBeforeFunding.message;var postFinanceMessage=developerTooltip.cashflowAfterFunding.message;var rawData=developerCalculation(currentDashboard.values);var annualChart=annualChartParse(rawData);var cumulativeChart=cumulativeChartParse(rawData);var tableData=tableParse(rawData);var fundingChart=fundingChartParse(rawData);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"dash-row relative\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"f20 bold mt16 mb16\"},\"Developer Dashboard\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-btns flex-row\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\",onClick:handleSave},/*#__PURE__*/React.createElement(Icon,{size:\"20px\",url:SaveIcon,color:\"white\",hover:false,active:false}),/*#__PURE__*/React.createElement(\"span\",{className:\"ml8\"},\"Save\")),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"form-button-s bs-3 font-white pt4 pb4 flex-row align-c justify-c\",onClick:handleEdit},/*#__PURE__*/React.createElement(Icon,{size:\"20px\",url:EditIcon,color:\"white\",hover:false,active:false}),/*#__PURE__*/React.createElement(\"span\",{className:\"ml8\"},\"Edit\")))),/*#__PURE__*/React.createElement(\"h2\",{className:\"f16 bold mt16 mb16\"},\"Pre Funding Metrics\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-row flex-row\"},/*#__PURE__*/React.createElement(\"table\",{className:\"r bs-3 bg-1 p20 mb16 o-hidden\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Total\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Revenue:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].totalRevenue))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Costs:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].totalCostsPreFinance))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Profit:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].preFinanceCashflow))))),/*#__PURE__*/React.createElement(\"table\",{className:\"r bs-3 bg-1 p20 mb16 o-hidden\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Per Dwelling\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Revenue:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].totalRevenue/currentDashboard.values.dwellings))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Costs:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].totalCostsPreFinance/currentDashboard.values.dwellings))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Profit:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].preFinanceCashflow/currentDashboard.values.dwellings))))),/*#__PURE__*/React.createElement(\"table\",{className:\"r bs-3 bg-1 p20 mb16 o-hidden\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Unlevered Metrics\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"IRR:\"),/*#__PURE__*/React.createElement(\"td\",null,percentageFormatter.format(IRRCalculation(rawData).preFinance))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Margin On Cost:\"),/*#__PURE__*/React.createElement(\"td\",null,percentageFormatter.format(developerMOCCalculation(rawData).preFinance)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-chart r bs-3 bg-1 p20 mb16\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"f16 mb16\"},\"Cumulative Position Before Funding\"),/*#__PURE__*/React.createElement(Line,{data:cumulativeChart.data.preFinance,options:cumulativeChart.options})),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-cashflow r bs-3 bg-1 p20 mb16\"},/*#__PURE__*/React.createElement(\"div\",{className:\"relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-row align-c mb16 mr100\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"f16\"},\"Cashflow Summary Before Funding\"),/*#__PURE__*/React.createElement(Tooltip,{message:preFinanceMessage})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"absolute form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\",onClick:function onClick(){return setShowPreFinanceCashflow(!showPreFinanceCashflow);}},/*#__PURE__*/React.createElement(Icon,{size:\"20px\",url:showPreFinanceCashflow?CollapseIcon:ExpandIcon,color:\"white\",hover:false,active:false}),/*#__PURE__*/React.createElement(\"span\",{className:\"ml8\"},showPreFinanceCashflow?\"Hide\":\"Show\"))),showPreFinanceCashflow&&/*#__PURE__*/React.createElement(\"table\",{className:\"w100 bg-1 p20 mb16 o-hidden\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Year\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-desktop\"},\"Acquisition Costs\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-desktop\"},\"TDC\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-desktop\"},\"NOI\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-desktop\"},\"Net Sale\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-mobile\"},\"Total Income\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-mobile\"},\"Total Costs\"),/*#__PURE__*/React.createElement(\"th\",null,\"Net Annual Cashflow\"))),/*#__PURE__*/React.createElement(\"tbody\",null,tableData===null||tableData===void 0?void 0:tableData.annualCashflow.map(function(c){return/*#__PURE__*/React.createElement(\"tr\",{key:c.year},/*#__PURE__*/React.createElement(\"td\",null,c.year),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(c.acquisitionCosts)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(c.TDC)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(c.NOI)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(c.netSale)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-mobile\"},currencyFormatter.format(c.totalIncome)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-mobile\"},currencyFormatter.format(c.preFinanceTotalCost)),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(c.preFinanceCashflow)));})),/*#__PURE__*/React.createElement(\"tfoot\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Total\"),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(tableData.summaryCashflow[0].acquisitionCosts)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(tableData.summaryCashflow[0].TDC)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(tableData.summaryCashflow[0].NOI)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(tableData.summaryCashflow[0].netSale)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-mobile\"},currencyFormatter.format(tableData.summaryCashflow[0].totalIncome)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-mobile\"},currencyFormatter.format(tableData.summaryCashflow[0].preFinanceTotalCost)),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].preFinanceCashflow)))))),/*#__PURE__*/React.createElement(\"h2\",{className:\"f16 bold mt16 mb16\"},\"Post Funding Metrics\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-row flex-row\"},/*#__PURE__*/React.createElement(\"table\",{className:\"r bs-3 bg-1 p20 mb16 o-hidden\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Total\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Revenue:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].totalRevenue))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Costs:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].totalCostsPostFinance))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Profit:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].postFinanceCashflow))))),/*#__PURE__*/React.createElement(\"table\",{className:\"r bs-3 bg-1 p20 mb16 o-hidden\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Per Dwelling\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Revenue:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].totalRevenue/currentDashboard.values.dwellings))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Costs:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].totalCostsPostFinance/currentDashboard.values.dwellings))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Profit:\"),/*#__PURE__*/React.createElement(\"td\",null,currencyFormatter.format(tableData.summaryCashflow[0].postFinanceCashflow/currentDashboard.values.dwellings))))),/*#__PURE__*/React.createElement(\"table\",{className:\"r bs-3 bg-1 p20 mb16 o-hidden\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Levered Metrics\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"IRR:\"),/*#__PURE__*/React.createElement(\"td\",null,percentageFormatter.format(IRRCalculation(rawData).postFinance))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Margin On Cost:\"),/*#__PURE__*/React.createElement(\"td\",null,percentageFormatter.format(developerMOCCalculation(rawData).postFinance)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-chart r bs-3 bg-1 p20 mb16\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"f16 mb16\"},\"Cumulative Position After Funding\"),/*#__PURE__*/React.createElement(Line,{data:cumulativeChart.data.postFinance,options:cumulativeChart.options})),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-chart r bs-3 bg-1 p20 mb16\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"f16 mb16\"},\"Cumulative Funding Uses\"),/*#__PURE__*/React.createElement(Line,{data:fundingChart.data,options:fundingChart.options})),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-chart r bs-3 bg-1 p20 mb16\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"f16 mb16\"},\"Annual Cashflow\"),/*#__PURE__*/React.createElement(Bar,{data:annualChart.data,options:annualChart.options})),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-cashflow r bs-3 bg-1 p20 mb16\"},/*#__PURE__*/React.createElement(\"div\",{className:\"relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-row align-c mb16 mr100\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"f16\"},\"Cashflow Summary After Funding\"),/*#__PURE__*/React.createElement(Tooltip,{message:postFinanceMessage})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"absolute form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\",onClick:function onClick(){return setShowPostFinanceCashflow(!showPostFinanceCashflow);}},/*#__PURE__*/React.createElement(Icon,{size:\"20px\",url:showPostFinanceCashflow?CollapseIcon:ExpandIcon,color:\"white\",hover:false,active:false}),/*#__PURE__*/React.createElement(\"span\",{className:\"ml8\"},showPostFinanceCashflow?\"Hide\":\"Show\"))),showPostFinanceCashflow&&/*#__PURE__*/React.createElement(\"table\",{className:\"w100 bg-1 p20 mb16 o-hidden\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Year\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-desktop\"},\"Acquisition Costs\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-desktop\"},\"TDC\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-desktop\"},\"NOI\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-desktop\"},\"Net Sale\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-desktop\"},\"Funding Costs\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-mobile\"},\"Total Income\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-mobile\"},\"Total Costs\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-xs-mobile\"},\"Debt Source\"),/*#__PURE__*/React.createElement(\"th\",{className:\"dash-desktop\"},\"Net Annual Cashflow\"))),/*#__PURE__*/React.createElement(\"tbody\",null,tableData===null||tableData===void 0?void 0:tableData.annualCashflow.map(function(c){return/*#__PURE__*/React.createElement(\"tr\",{key:c.year},/*#__PURE__*/React.createElement(\"td\",null,c.year),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(c.acquisitionCosts)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(c.TDC)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(c.NOI)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(c.netSale)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(c.loanCosts)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-mobile\"},currencyFormatter.format(c.totalIncome)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-mobile\"},currencyFormatter.format(c.postFinanceTotalCost)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-xs-mobile\"},currencyFormatter.format(c.debtSource)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(c.postFinanceCashflow)));})),/*#__PURE__*/React.createElement(\"tfoot\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Total\"),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(tableData.summaryCashflow[0].acquisitionCosts)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(tableData.summaryCashflow[0].TDC)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(tableData.summaryCashflow[0].NOI)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(tableData.summaryCashflow[0].netSale)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(tableData.summaryCashflow[0].loanCosts)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-mobile\"},currencyFormatter.format(tableData.summaryCashflow[0].totalIncome)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-mobile\"},currencyFormatter.format(tableData.summaryCashflow[0].postFinanceTotalCost)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-xs-mobile\"},currencyFormatter.format(tableData.summaryCashflow[0].debtSource)),/*#__PURE__*/React.createElement(\"td\",{className:\"dash-desktop\"},currencyFormatter.format(tableData.summaryCashflow[0].postFinanceCashflow)))))));}};var mapStateToProps=function mapStateToProps(state){return{currentDashboard:state.dashboards.currentDashboard.data,preSave:state.dashboards.currentDashboard.preSave,isFetching:state.dashboards.isFetching};};var mapDispatchToProps={setModal:setModal,getDashboard:getDashboard,preSaveDashboard:preSaveDashboard};export default connect(mapStateToProps,mapDispatchToProps)(DeveloperDashboard);","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/components/Dashboards/DeveloperDashboard.js"],"names":["React","useEffect","useState","connect","useHistory","useParams","setModal","CONSTANTS","getDashboard","preSaveDashboard","Tooltip","cumulativeChartParse","annualChartParse","tableParse","developerCalculation","developerMOCCalculation","fundingChartParse","currencyFormatter","percentageFormatter","IRRCalculation","developerTooltip","Line","Bar","Loader","Icon","DeveloperDashboard","isFetching","preSave","currentDashboard","showPreFinanceCashflow","setShowPreFinanceCashflow","showPostFinanceCashflow","setShowPostFinanceCashflow","id","history","handleSave","e","preventDefault","MODALS","SAVEDASHBOARD","handleEdit","push","isEmpty","obj","Object","keys","length","constructor","values","preFinanceMessage","cashflowBeforeFunding","message","postFinanceMessage","cashflowAfterFunding","rawData","annualChart","cumulativeChart","tableData","fundingChart","SaveIcon","EditIcon","format","summaryCashflow","totalRevenue","totalCostsPreFinance","preFinanceCashflow","dwellings","preFinance","data","options","CollapseIcon","ExpandIcon","annualCashflow","map","c","year","acquisitionCosts","TDC","NOI","netSale","totalIncome","preFinanceTotalCost","totalCostsPostFinance","postFinanceCashflow","postFinance","loanCosts","postFinanceTotalCost","debtSource","mapStateToProps","state","dashboards","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { setModal } from \"../../reducers/navigationReducer\";\nimport { CONSTANTS } from \"../../static/constants\";\nimport {\n  getDashboard,\n  preSaveDashboard,\n} from \"../../reducers/dashboardReducer\";\nimport Tooltip from \"../Shared/Tooltip\";\nimport {\n  cumulativeChartParse,\n  annualChartParse,\n  tableParse,\n  developerCalculation,\n  developerMOCCalculation,\n  fundingChartParse,\n} from \"../../utils/developerDashboardDataParser\";\nimport {\n  currencyFormatter,\n  percentageFormatter,\n  IRRCalculation,\n} from \"../../utils/dashboardHelper\";\nimport { developerTooltip } from \"../../static/tooltipText\";\nimport { Line, Bar } from \"react-chartjs-2\";\nimport Loader from \"../Shared/Loader\";\nimport { Icon } from \"../Shared/Icon\";\nimport SaveIcon from \"../../styles/svg/save.svg\";\nimport EditIcon from \"../../styles/svg/edit.svg\";\nimport ExpandIcon from \"../../styles/svg/expand.svg\";\nimport CollapseIcon from \"../../styles/svg/collapse.svg\";\n\nconst DeveloperDashboard = ({\n  isFetching,\n  preSave,\n  currentDashboard,\n  getDashboard,\n  preSaveDashboard,\n  setModal,\n}) => {\n  const [showPreFinanceCashflow, setShowPreFinanceCashflow] = useState(true);\n  const [showPostFinanceCashflow, setShowPostFinanceCashflow] = useState(true);\n  const id = useParams().id;\n  const history = useHistory();\n\n  useEffect(() => {\n    if (id) {\n      getDashboard(id);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  const handleSave = (e) => {\n    e.preventDefault();\n    setModal(CONSTANTS.MODALS.SAVEDASHBOARD, true);\n  };\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    preSaveDashboard();\n    if (id) {\n      history.push(`/developer/edit/${id}`);\n    } else {\n      history.push(`/developer/edit`);\n    }\n  };\n\n  const isEmpty = (obj) =>\n    Object.keys(obj).length === 0 && obj.constructor === Object;\n\n  if (isFetching || (isEmpty(currentDashboard.values) && id)) {\n    return <Loader />;\n  } else {\n    if (isEmpty(currentDashboard.values)) {\n      history.push(\"/developer/edit\");\n    }\n    const preFinanceMessage = developerTooltip.cashflowBeforeFunding.message;\n    const postFinanceMessage = developerTooltip.cashflowAfterFunding.message;\n    const rawData = developerCalculation(currentDashboard.values);\n    const annualChart = annualChartParse(rawData);\n    const cumulativeChart = cumulativeChartParse(rawData);\n    const tableData = tableParse(rawData);\n    const fundingChart = fundingChartParse(rawData);\n    return (\n      <>\n        <div className=\"dash-row relative\">\n          <h2 className=\"f20 bold mt16 mb16\">Developer Dashboard</h2>\n          <div className=\"dash-btns flex-row\">\n            <button\n              type=\"submit\"\n              className=\"form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\"\n              onClick={handleSave}\n            >\n              <Icon\n                size={\"20px\"}\n                url={SaveIcon}\n                color={\"white\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8\">Save</span>\n            </button>\n            <button\n              type=\"submit\"\n              className=\"form-button-s bs-3 font-white pt4 pb4 flex-row align-c justify-c\"\n              onClick={handleEdit}\n            >\n              <Icon\n                size={\"20px\"}\n                url={EditIcon}\n                color={\"white\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8\">Edit</span>\n            </button>\n          </div>\n        </div>\n        <h2 className=\"f16 bold mt16 mb16\">Pre Funding Metrics</h2>\n        <div className=\"dash-row flex-row\">\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Total</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Revenue:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalRevenue\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Costs:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalCostsPreFinance\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Profit:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].preFinanceCashflow\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Per Dwelling</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Revenue:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalRevenue /\n                      currentDashboard.values.dwellings\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Costs:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalCostsPreFinance /\n                      currentDashboard.values.dwellings\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Profit:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].preFinanceCashflow /\n                      currentDashboard.values.dwellings\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Unlevered Metrics</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>IRR:</td>\n                <td>\n                  {percentageFormatter.format(\n                    IRRCalculation(rawData).preFinance\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Margin On Cost:</td>\n                <td>\n                  {percentageFormatter.format(\n                    developerMOCCalculation(rawData).preFinance\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div className=\"dash-chart r bs-3 bg-1 p20 mb16\">\n          <h3 className=\"f16 mb16\">Cumulative Position Before Funding</h3>\n          <Line\n            data={cumulativeChart.data.preFinance}\n            options={cumulativeChart.options}\n          />\n        </div>\n        <div className=\"dash-cashflow r bs-3 bg-1 p20 mb16\">\n          <div className=\"relative\">\n            <div className=\"flex-row align-c mb16 mr100\">\n              <h3 className=\"f16\">Cashflow Summary Before Funding</h3>\n              <Tooltip message={preFinanceMessage} />\n            </div>\n            <button\n              type=\"submit\"\n              className=\"absolute form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\"\n              onClick={() => setShowPreFinanceCashflow(!showPreFinanceCashflow)}\n            >\n              <Icon\n                size={\"20px\"}\n                url={showPreFinanceCashflow ? CollapseIcon : ExpandIcon}\n                color={\"white\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8\">\n                {showPreFinanceCashflow ? \"Hide\" : \"Show\"}\n              </span>\n            </button>\n          </div>\n          {showPreFinanceCashflow && (\n            <table className=\"w100 bg-1 p20 mb16 o-hidden\">\n              <thead>\n                <tr>\n                  <th>Year</th>\n                  <th className=\"dash-desktop\">Acquisition Costs</th>\n                  <th className=\"dash-desktop\">TDC</th>\n                  <th className=\"dash-desktop\">NOI</th>\n                  <th className=\"dash-desktop\">Net Sale</th>\n                  <th className=\"dash-mobile\">Total Income</th>\n                  <th className=\"dash-mobile\">Total Costs</th>\n                  <th>Net Annual Cashflow</th>\n                </tr>\n              </thead>\n              <tbody>\n                {tableData?.annualCashflow.map((c) => (\n                  <tr key={c.year}>\n                    <td>{c.year}</td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.acquisitionCosts)}\n                    </td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.TDC)}\n                    </td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.NOI)}\n                    </td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.netSale)}\n                    </td>\n                    <td className=\"dash-mobile\">\n                      {currencyFormatter.format(c.totalIncome)}\n                    </td>\n                    <td className=\"dash-mobile\">\n                      {currencyFormatter.format(c.preFinanceTotalCost)}\n                    </td>\n                    <td>{currencyFormatter.format(c.preFinanceCashflow)}</td>\n                  </tr>\n                ))}\n              </tbody>\n              <tfoot>\n                <tr>\n                  <th>Total</th>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].acquisitionCosts\n                    )}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(tableData.summaryCashflow[0].TDC)}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(tableData.summaryCashflow[0].NOI)}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].netSale\n                    )}\n                  </td>\n                  <td className=\"dash-mobile\">\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].totalIncome\n                    )}\n                  </td>\n                  <td className=\"dash-mobile\">\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].preFinanceTotalCost\n                    )}\n                  </td>\n                  <td>\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].preFinanceCashflow\n                    )}\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n          )}\n        </div>\n        <h2 className=\"f16 bold mt16 mb16\">Post Funding Metrics</h2>\n        <div className=\"dash-row flex-row\">\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Total</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Revenue:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalRevenue\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Costs:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalCostsPostFinance\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Profit:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].postFinanceCashflow\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Per Dwelling</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Revenue:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalRevenue /\n                      currentDashboard.values.dwellings\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Costs:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalCostsPostFinance /\n                      currentDashboard.values.dwellings\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Profit:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].postFinanceCashflow /\n                      currentDashboard.values.dwellings\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Levered Metrics</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>IRR:</td>\n                <td>\n                  {percentageFormatter.format(\n                    IRRCalculation(rawData).postFinance\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Margin On Cost:</td>\n                <td>\n                  {percentageFormatter.format(\n                    developerMOCCalculation(rawData).postFinance\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div className=\"dash-chart r bs-3 bg-1 p20 mb16\">\n          <h3 className=\"f16 mb16\">Cumulative Position After Funding</h3>\n          <Line\n            data={cumulativeChart.data.postFinance}\n            options={cumulativeChart.options}\n          />\n        </div>\n        <div className=\"dash-chart r bs-3 bg-1 p20 mb16\">\n          <h3 className=\"f16 mb16\">Cumulative Funding Uses</h3>\n          <Line data={fundingChart.data} options={fundingChart.options} />\n        </div>\n        <div className=\"dash-chart r bs-3 bg-1 p20 mb16\">\n          <h3 className=\"f16 mb16\">Annual Cashflow</h3>\n          <Bar data={annualChart.data} options={annualChart.options} />\n        </div>\n        <div className=\"dash-cashflow r bs-3 bg-1 p20 mb16\">\n          <div className=\"relative\">\n            <div className=\"flex-row align-c mb16 mr100\">\n              <h3 className=\"f16\">Cashflow Summary After Funding</h3>\n              <Tooltip message={postFinanceMessage} />\n            </div>\n            <button\n              type=\"submit\"\n              className=\"absolute form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\"\n              onClick={() =>\n                setShowPostFinanceCashflow(!showPostFinanceCashflow)\n              }\n            >\n              <Icon\n                size={\"20px\"}\n                url={showPostFinanceCashflow ? CollapseIcon : ExpandIcon}\n                color={\"white\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8\">\n                {showPostFinanceCashflow ? \"Hide\" : \"Show\"}\n              </span>\n            </button>\n          </div>\n          {showPostFinanceCashflow && (\n            <table className=\"w100 bg-1 p20 mb16 o-hidden\">\n              <thead>\n                <tr>\n                  <th>Year</th>\n                  <th className=\"dash-desktop\">Acquisition Costs</th>\n                  <th className=\"dash-desktop\">TDC</th>\n                  <th className=\"dash-desktop\">NOI</th>\n                  <th className=\"dash-desktop\">Net Sale</th>\n                  <th className=\"dash-desktop\">Funding Costs</th>\n                  <th className=\"dash-mobile\">Total Income</th>\n                  <th className=\"dash-mobile\">Total Costs</th>\n                  <th className=\"dash-xs-mobile\">Debt Source</th>\n                  <th className=\"dash-desktop\">Net Annual Cashflow</th>\n                </tr>\n              </thead>\n              <tbody>\n                {tableData?.annualCashflow.map((c) => (\n                  <tr key={c.year}>\n                    <td>{c.year}</td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.acquisitionCosts)}\n                    </td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.TDC)}\n                    </td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.NOI)}\n                    </td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.netSale)}\n                    </td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.loanCosts)}\n                    </td>\n                    <td className=\"dash-mobile\">\n                      {currencyFormatter.format(c.totalIncome)}\n                    </td>\n                    <td className=\"dash-mobile\">\n                      {currencyFormatter.format(c.postFinanceTotalCost)}\n                    </td>\n                    <td className=\"dash-xs-mobile\">\n                      {currencyFormatter.format(c.debtSource)}\n                    </td>\n                    <td className=\"dash-desktop\">{currencyFormatter.format(c.postFinanceCashflow)}</td>\n                  </tr>\n                ))}\n              </tbody>\n              <tfoot>\n                <tr>\n                  <th>Total</th>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].acquisitionCosts\n                    )}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(tableData.summaryCashflow[0].TDC)}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(tableData.summaryCashflow[0].NOI)}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].netSale\n                    )}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].loanCosts\n                    )}\n                  </td>\n                  <td className=\"dash-mobile\">\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].totalIncome\n                    )}\n                  </td>\n                  <td className=\"dash-mobile\">\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].postFinanceTotalCost\n                    )}\n                  </td>\n                  <td className=\"dash-xs-mobile\">\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].debtSource\n                    )}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(\n                      tableData.summaryCashflow[0].postFinanceCashflow\n                    )}\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n          )}\n        </div>\n      </>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    currentDashboard: state.dashboards.currentDashboard.data,\n    preSave: state.dashboards.currentDashboard.preSave,\n    isFetching: state.dashboards.isFetching,\n  };\n};\n\nconst mapDispatchToProps = {\n  setModal,\n  getDashboard,\n  preSaveDashboard,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeveloperDashboard);\n"]},"metadata":{},"sourceType":"module"}