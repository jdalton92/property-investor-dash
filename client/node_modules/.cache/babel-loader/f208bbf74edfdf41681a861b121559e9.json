{"ast":null,"code":"import { v4 as uuid } from \"uuid\";\nimport userService from \"../services/user\";\nconst initialState = {\n  helperMessagesRead: [],\n  notifications: []\n};\n\nconst notificationReducer = (state = initialState, action) => {\n  let newState;\n\n  switch (action.type) {\n    case \"SET_MESSAGE\":\n      newState = { ...state\n      };\n      return newState.helperMessagesRead.push(action.message);\n\n    case \"SET_NOTIFICATION\":\n      newState = { ...state\n      };\n      return newState.notifications.push(action.content);\n\n    case \"CLEAR_NOTIFICATION\":\n      newState = { ...state\n      };\n      return newState.notifications.filter(n => n.id !== action.content.id);\n\n    default:\n      return state;\n  }\n};\n\nexport const setNotification = (message, type) => {\n  return dispatch => {\n    const id = uuid();\n    dispatch({\n      type: \"SET_NOTIFICATION\",\n      content: {\n        id,\n        message,\n        type\n      }\n    });\n  };\n};\nexport const clearNotification = id => {\n  return dispatch => {\n    dispatch({\n      type: \"CLEAR_NOTIFICATION\",\n      content: {\n        id\n      }\n    });\n  };\n};\nexport const readHelperMessages = type => {\n  return dispatch => {\n    dispatch({\n      type: \"SET_MESSAGE\",\n      message: type\n    });\n  };\n};\nexport const hideHelperMessage = (userId, type) => {\n  return async dispatch => {\n    try {\n      await userService.readMessage(userId, type);\n    } catch (e) {\n      dispatch({\n        type: \"SET_NOTIFICATION\",\n        content: {\n          message: e.response.data.error,\n          type: \"error\"\n        }\n      });\n    }\n  };\n};\nexport default notificationReducer;","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/reducers/notificationReducer.js"],"names":["v4","uuid","userService","initialState","helperMessagesRead","notifications","notificationReducer","state","action","newState","type","push","message","content","filter","n","id","setNotification","dispatch","clearNotification","readHelperMessages","hideHelperMessage","userId","readMessage","e","response","data","error"],"mappings":"AAAA,SAASA,EAAE,IAAIC,IAAf,QAA2B,MAA3B;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,kBAAkB,EAAE,EADD;AAEnBC,EAAAA,aAAa,EAAE;AAFI,CAArB;;AAKA,MAAMC,mBAAmB,GAAG,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAkC;AAC5D,MAAIC,QAAJ;;AACA,UAAQD,MAAM,CAACE,IAAf;AACE,SAAK,aAAL;AACED,MAAAA,QAAQ,GAAG,EAAE,GAAGF;AAAL,OAAX;AACA,aAAOE,QAAQ,CAACL,kBAAT,CAA4BO,IAA5B,CAAiCH,MAAM,CAACI,OAAxC,CAAP;;AACF,SAAK,kBAAL;AACEH,MAAAA,QAAQ,GAAG,EAAE,GAAGF;AAAL,OAAX;AACA,aAAOE,QAAQ,CAACJ,aAAT,CAAuBM,IAAvB,CAA4BH,MAAM,CAACK,OAAnC,CAAP;;AACF,SAAK,oBAAL;AACEJ,MAAAA,QAAQ,GAAG,EAAE,GAAGF;AAAL,OAAX;AACA,aAAOE,QAAQ,CAACJ,aAAT,CAAuBS,MAAvB,CAA+BC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASR,MAAM,CAACK,OAAP,CAAeG,EAA7D,CAAP;;AACF;AACE,aAAOT,KAAP;AAXJ;AAaD,CAfD;;AAiBA,OAAO,MAAMU,eAAe,GAAG,CAACL,OAAD,EAAUF,IAAV,KAAmB;AAChD,SAAQQ,QAAD,IAAc;AACnB,UAAMF,EAAE,GAAGf,IAAI,EAAf;AACAiB,IAAAA,QAAQ,CAAC;AACPR,MAAAA,IAAI,EAAE,kBADC;AAEPG,MAAAA,OAAO,EAAE;AACPG,QAAAA,EADO;AAEPJ,QAAAA,OAFO;AAGPF,QAAAA;AAHO;AAFF,KAAD,CAAR;AAQD,GAVD;AAWD,CAZM;AAcP,OAAO,MAAMS,iBAAiB,GAAIH,EAAD,IAAQ;AACvC,SAAQE,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AACPR,MAAAA,IAAI,EAAE,oBADC;AAEPG,MAAAA,OAAO,EAAE;AACPG,QAAAA;AADO;AAFF,KAAD,CAAR;AAMD,GAPD;AAQD,CATM;AAWP,OAAO,MAAMI,kBAAkB,GAAIV,IAAD,IAAU;AAC1C,SAAQQ,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AACPR,MAAAA,IAAI,EAAE,aADC;AAEPE,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAID,GALD;AAMD,CAPM;AASP,OAAO,MAAMW,iBAAiB,GAAG,CAACC,MAAD,EAASZ,IAAT,KAAkB;AACjD,SAAO,MAAOQ,QAAP,IAAoB;AACzB,QAAI;AACF,YAAMhB,WAAW,CAACqB,WAAZ,CAAwBD,MAAxB,EAAgCZ,IAAhC,CAAN;AACD,KAFD,CAEE,OAAOc,CAAP,EAAU;AACVN,MAAAA,QAAQ,CAAC;AACPR,QAAAA,IAAI,EAAE,kBADC;AAEPG,QAAAA,OAAO,EAAE;AACPD,UAAAA,OAAO,EAAEY,CAAC,CAACC,QAAF,CAAWC,IAAX,CAAgBC,KADlB;AAEPjB,UAAAA,IAAI,EAAE;AAFC;AAFF,OAAD,CAAR;AAOD;AACF,GAZD;AAaD,CAdM;AAgBP,eAAeJ,mBAAf","sourcesContent":["import { v4 as uuid } from \"uuid\";\nimport userService from \"../services/user\";\n\nconst initialState = {\n  helperMessagesRead: [],\n  notifications: [],\n};\n\nconst notificationReducer = (state = initialState, action) => {\n  let newState;\n  switch (action.type) {\n    case \"SET_MESSAGE\":\n      newState = { ...state };\n      return newState.helperMessagesRead.push(action.message);\n    case \"SET_NOTIFICATION\":\n      newState = { ...state };\n      return newState.notifications.push(action.content);\n    case \"CLEAR_NOTIFICATION\":\n      newState = { ...state };\n      return newState.notifications.filter((n) => n.id !== action.content.id);\n    default:\n      return state;\n  }\n};\n\nexport const setNotification = (message, type) => {\n  return (dispatch) => {\n    const id = uuid();\n    dispatch({\n      type: \"SET_NOTIFICATION\",\n      content: {\n        id,\n        message,\n        type,\n      },\n    });\n  };\n};\n\nexport const clearNotification = (id) => {\n  return (dispatch) => {\n    dispatch({\n      type: \"CLEAR_NOTIFICATION\",\n      content: {\n        id,\n      },\n    });\n  };\n};\n\nexport const readHelperMessages = (type) => {\n  return (dispatch) => {\n    dispatch({\n      type: \"SET_MESSAGE\",\n      message: type,\n    });\n  };\n};\n\nexport const hideHelperMessage = (userId, type) => {\n  return async (dispatch) => {\n    try {\n      await userService.readMessage(userId, type);\n    } catch (e) {\n      dispatch({\n        type: \"SET_NOTIFICATION\",\n        content: {\n          message: e.response.data.error,\n          type: \"error\",\n        },\n      });\n    }\n  };\n};\n\nexport default notificationReducer;\n"]},"metadata":{},"sourceType":"module"}