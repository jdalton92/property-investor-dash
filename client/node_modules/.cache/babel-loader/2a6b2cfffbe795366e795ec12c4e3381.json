{"ast":null,"code":"var _jsxFileName = \"/home/james/development/property-investor-dash/client/src/components/Login.js\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form as FinalForm, Field } from \"react-final-form\";\nimport { useHistory } from \"react-router-dom\";\nimport { loginUser } from \"../reducers/userReducer\";\nimport { required, minLength, isEmail, composeValidators } from \"../helpers/formValidatorHelper\";\n\nconst Login = ({\n  loginUser,\n  user\n}) => {\n  const history = useHistory();\n  useEffect(() => {\n    if (user.data.username) {\n      history.push(\"/\");\n    }\n  }, []);\n\n  const onSubmit = async ({\n    email,\n    password\n  }) => {\n    await loginUser(email, password);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vh100 w100 fade-in relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center login m8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w100 h100 r p24 mb8 bs-3 bg1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"bold f24 mb56 mt32 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }, \"PropertyInvestorDash\"), /*#__PURE__*/React.createElement(FinalForm, {\n    onSubmit: onSubmit,\n    render: ({\n      handleSubmit\n    }) => /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"f16 mb8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Field, {\n      name: \"email\",\n      validate: composeValidators(isEmail, required),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }, ({\n      input,\n      meta\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      className: \"form-input mb24 w100\",\n      placeholder: \"example@email.com\",\n      type: \"email\"\n    }, input, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 23\n      }\n    })), meta.error && meta.touched && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, meta.error))), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"f16 mb8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Field, {\n      name: \"password\",\n      validate: composeValidators(required, minLength(3)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, ({\n      input,\n      meta\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      className: \"form-input mb24 w100\",\n      placeholder: \"Password\",\n      type: \"password\"\n    }, input, {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 23\n      }\n    })), meta.error && meta.touched && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"form-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, meta.error))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"form-button-p font-white bs-2 w100 pt8 pb8 r\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, \"Login\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"Forgot your password?\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Try a demo account\")));\n};\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nconst mapDispatchToProps = {\n  loginUser\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/components/Login.js"],"names":["React","useEffect","connect","Form","FinalForm","Field","useHistory","loginUser","required","minLength","isEmail","composeValidators","Login","user","history","data","username","push","onSubmit","email","password","handleSubmit","input","meta","error","touched","mapStateToProps","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form as FinalForm, Field } from \"react-final-form\";\nimport { useHistory } from \"react-router-dom\";\nimport { loginUser } from \"../reducers/userReducer\";\nimport {\n  required,\n  minLength,\n  isEmail,\n  composeValidators,\n} from \"../helpers/formValidatorHelper\";\n\nconst Login = ({ loginUser, user }) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    if (user.data.username) {\n      history.push(\"/\");\n    }\n  }, []);\n\n  const onSubmit = async ({ email, password }) => {\n    await loginUser(email, password);\n  };\n\n  return (\n    <div className=\"vh100 w100 fade-in relative\">\n      <div className=\"center login m8\">\n        <div className=\"w100 h100 r p24 mb8 bs-3 bg1\">\n          <h1 className=\"bold f24 mb56 mt32 text-center\">\n            PropertyInvestorDash\n          </h1>\n          <FinalForm\n            onSubmit={onSubmit}\n            render={({ handleSubmit }) => (\n              <form onSubmit={handleSubmit}>\n                <h2 className=\"f16 mb8\">Email</h2>\n                <Field\n                  name=\"email\"\n                  validate={composeValidators(isEmail, required)}\n                >\n                  {({ input, meta }) => (\n                    <div className=\"relative\">\n                      <input\n                        className=\"form-input mb24 w100\"\n                        placeholder=\"example@email.com\"\n                        type=\"email\"\n                        {...input}\n                        required\n                      />\n                      {meta.error && meta.touched && (\n                        <div className=\"form-error\">{meta.error}</div>\n                      )}\n                    </div>\n                  )}\n                </Field>\n                <h2 className=\"f16 mb8\">Password</h2>\n                <Field\n                  name=\"password\"\n                  validate={composeValidators(required, minLength(3))}\n                >\n                  {({ input, meta }) => (\n                    <div className=\"relative\">\n                      <input\n                        className=\"form-input mb24 w100\"\n                        placeholder=\"Password\"\n                        type=\"password\"\n                        {...input}\n                        required\n                      />\n                      {meta.error && meta.touched && (\n                        <span className=\"form-error\">{meta.error}</span>\n                      )}\n                    </div>\n                  )}\n                </Field>\n                <button\n                  className=\"form-button-p font-white bs-2 w100 pt8 pb8 r\"\n                  type=\"submit\"\n                >\n                  Login\n                </button>\n              </form>\n            )}\n          />\n        </div>\n        <div className=\"mb8\">Forgot your password?</div>\n        <div>Try a demo account</div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n  };\n};\n\nconst mapDispatchToProps = {\n  loginUser,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}