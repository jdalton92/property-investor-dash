{"ast":null,"code":"var _jsxFileName = \"/home/james/development/property-investor-dash/client/src/components/Dashboards/OccupierInvestorDashboard.js\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport CalculatorFormTooltip from \"../CalculatorForms/CalculatorFormTooltip\";\nimport { editDashboard, getDashboard } from \"../../reducers/dashboardReducer\";\nimport { setCashflow, setModal } from \"../../reducers/navigationReducer\";\nimport { cumulativeChartParse, tableParse, occupierInvestorCalculation, cardParse, occupierInvestorMOCCalculation } from \"../../helpers/occupierInvestorDashboardHelper\";\nimport { currencyFormatter, percentageFormatter, IRRCalculation } from \"../../helpers/dashboardHelper\";\nimport { Line } from \"react-chartjs-2\";\nimport { Table, Card, ListGroup, Button } from \"react-bootstrap\";\nimport \"../styles/Dashboard.css\";\n\nconst OccupierInvestorDashboard = props => {\n  const id = useParams().id;\n  const history = useHistory();\n  const userType = props.values.values.investor ? \"investor\" : \"ownerOccupier\";\n  let rawData;\n  let chartData;\n  let tableData;\n  let cardData;\n  useEffect(() => {\n    if (id) {\n      props.getDashboard(id);\n    }\n  }, []);\n  useEffect(() => {\n    rawData = occupierInvestorCalculation(props.values.data);\n    chartData = cumulativeChartParse(rawData);\n    tableData = tableParse(rawData);\n    cardData = cardParse(rawData);\n  }, [props.values.values]);\n\n  const handleSave = e => {\n    e.preventDefault();\n    props.setModal(\"saveDashboard\");\n  };\n\n  const handleEdit = e => {\n    e.preventDefault();\n\n    if (id) {\n      if (props.values.values.investor) {\n        history.push(`/investor/edit/${id}`);\n      } else {\n        history.push(`/owner-occupier/edit/${id}`);\n      }\n    } else {\n      props.editDashboard();\n\n      if (props.values.values.investor) {\n        history.replace(\"/investor\");\n      } else {\n        history.replace(\"/owner-occupier\");\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"dashboard-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, props.title)), /*#__PURE__*/React.createElement(Button, {\n    id: \"dashboard-button\",\n    className: \"dashboard-save-button\",\n    onClick: handleSave,\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Save Dashboard\"), /*#__PURE__*/React.createElement(Button, {\n    id: \"dashboard-button\",\n    className: \"dashboard-edit-button\",\n    onClick: handleEdit,\n    variant: \"outline-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Edit Dashboard\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-subheader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, \"Cumulative Position\"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"after funding\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-chart-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Line, {\n    data: chartData.data,\n    options: chartData.options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-card-deck\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"dashboard-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, \"Rental Income:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(cardData.rentalIncome))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, \"Loan Interest:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(cardData.mortgageInterest))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"Profit: \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 27\n    }\n  }, currencyFormatter.format(cardData.profit))))), /*#__PURE__*/React.createElement(Card, {\n    className: \"dashboard-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }, \"Average per Month\"), /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, \"Rental Income:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(cardData.rentalIncome / cardData.months))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, \"Operating Costs:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(cardData.opex / cardData.months))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, \"Mortgage Payment:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(cardData.mortgagePayment / cardData.months))))), /*#__PURE__*/React.createElement(Card, {\n    className: \"dashboard-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, \"Project Metrics\"), /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, \"IRR:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, percentageFormatter.format(IRRCalculation(rawData).postFinance))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, \"Margin:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, percentageFormatter.format(occupierInvestorMOCCalculation(rawData))))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-header-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-subheader-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-subheader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }, \"Cashflow Summary\"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, \"after funding\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-table-tooltip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CalculatorFormTooltip, {\n    input: \"cashflowAfterFunding\",\n    type: \"occupierInvestor\",\n    placement: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"dashboard-button\",\n    className: \"dashboard-table-button\",\n    onClick: () => props.setCashflow(userType),\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, props.cashflowTable[userType] ? \"hide\" : \"show\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `dashboard-table-row\n                        ${props.cashflowTable[userType] ? \"\" : \"hide\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, \"Year\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  }, \"Deposit\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, \"Rental Income\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }, \"Operating Expenses\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, \"Net Sale Proceeds\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }, \"Mortgage Costs\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"dashboard-table-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }, \"Total Income\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"dashboard-table-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 17\n    }\n  }, \"Total Costs\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 17\n    }\n  }, \"Net Annual Cashflow\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, tableData.annualCashflow.map(c => /*#__PURE__*/React.createElement(\"tr\", {\n    key: c.year,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 19\n    }\n  }, c.year), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(c.equityUse)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(c.rentalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(c.opex)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(c.netSale)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(c.fundingCost)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(c.totalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(c.totalCost)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 19\n    }\n  }, currencyFormatter.format(c.postFinanceCashflow))))), /*#__PURE__*/React.createElement(\"tfoot\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 17\n    }\n  }, currencyFormatter.format(tableData.summaryCashflow[0].equityUse)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  }, currencyFormatter.format(tableData.summaryCashflow[0].rentalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }\n  }, currencyFormatter.format(tableData.summaryCashflow[0].opex)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 17\n    }\n  }, currencyFormatter.format(tableData.summaryCashflow[0].netSale)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-desktop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 17\n    }\n  }, currencyFormatter.format(tableData.summaryCashflow[0].fundingCost)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }, currencyFormatter.format(tableData.summaryCashflow[0].totalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"dashboard-table-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 17\n    }\n  }, currencyFormatter.format(tableData.summaryCashflow[0].totalCost)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 17\n    }\n  }, currencyFormatter.format(tableData.summaryCashflow[0].postFinanceCashflow))))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    values: state.dashboards,\n    cashflowTable: state.navigation.cashflowTable\n  };\n};\n\nconst mapDispatchToProps = {\n  setCashflow,\n  setModal,\n  editDashboard,\n  getDashboard\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(OccupierInvestorDashboard);","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/components/Dashboards/OccupierInvestorDashboard.js"],"names":["React","useEffect","connect","useHistory","useParams","CalculatorFormTooltip","editDashboard","getDashboard","setCashflow","setModal","cumulativeChartParse","tableParse","occupierInvestorCalculation","cardParse","occupierInvestorMOCCalculation","currencyFormatter","percentageFormatter","IRRCalculation","Line","Table","Card","ListGroup","Button","OccupierInvestorDashboard","props","id","history","userType","values","investor","rawData","chartData","tableData","cardData","data","handleSave","e","preventDefault","handleEdit","push","replace","title","options","format","rentalIncome","mortgageInterest","profit","months","opex","mortgagePayment","postFinance","cashflowTable","annualCashflow","map","c","year","equityUse","netSale","fundingCost","totalIncome","totalCost","postFinanceCashflow","summaryCashflow","mapStateToProps","state","dashboards","navigation","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport CalculatorFormTooltip from \"../CalculatorForms/CalculatorFormTooltip\";\nimport { editDashboard, getDashboard } from \"../../reducers/dashboardReducer\";\nimport { setCashflow, setModal } from \"../../reducers/navigationReducer\";\nimport {\n  cumulativeChartParse,\n  tableParse,\n  occupierInvestorCalculation,\n  cardParse,\n  occupierInvestorMOCCalculation,\n} from \"../../helpers/occupierInvestorDashboardHelper\";\nimport {\n  currencyFormatter,\n  percentageFormatter,\n  IRRCalculation,\n} from \"../../helpers/dashboardHelper\";\nimport { Line } from \"react-chartjs-2\";\nimport { Table, Card, ListGroup, Button } from \"react-bootstrap\";\nimport \"../styles/Dashboard.css\";\n\nconst OccupierInvestorDashboard = (props) => {\n  const id = useParams().id;\n  const history = useHistory();\n  const userType = props.values.values.investor ? \"investor\" : \"ownerOccupier\";\n\n  let rawData;\n  let chartData;\n  let tableData;\n  let cardData;\n\n  useEffect(() => {\n    if (id) {\n      props.getDashboard(id);\n    }\n  }, []);\n  useEffect(() => {\n    rawData = occupierInvestorCalculation(props.values.data);\n    chartData = cumulativeChartParse(rawData);\n    tableData = tableParse(rawData);\n    cardData = cardParse(rawData);\n  }, [props.values.values]);\n\n  const handleSave = (e) => {\n    e.preventDefault();\n    props.setModal(\"saveDashboard\");\n  };\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    if (id) {\n      if (props.values.values.investor) {\n        history.push(`/investor/edit/${id}`);\n      } else {\n        history.push(`/owner-occupier/edit/${id}`);\n      }\n    } else {\n      props.editDashboard();\n      if (props.values.values.investor) {\n        history.replace(\"/investor\");\n      } else {\n        history.replace(\"/owner-occupier\");\n      }\n    }\n  };\n\n  return (\n    <section className=\"dashboard-section\">\n      <div className=\"dashboard-header\">\n        <h1>\n          <b>{props.title}</b>\n        </h1>\n        <Button\n          id=\"dashboard-button\"\n          className=\"dashboard-save-button\"\n          onClick={handleSave}\n          variant=\"primary\"\n        >\n          Save Dashboard\n        </Button>\n        <Button\n          id=\"dashboard-button\"\n          className=\"dashboard-edit-button\"\n          onClick={handleEdit}\n          variant=\"outline-primary\"\n        >\n          Edit Dashboard\n        </Button>\n      </div>\n\n      <div className=\"dashboard-item\">\n        <div className=\"dashboard-subheader\">\n          <h3>Cumulative Position</h3>\n          <h5>\n            <i>after funding</i>\n          </h5>\n        </div>\n        <div className=\"dashboard-row\">\n          <div className=\"dashboard-chart-container\">\n            <Line data={chartData.data} options={chartData.options} />\n          </div>\n        </div>\n        <div className=\"dashboard-row\">\n          <div className=\"dashboard-card-deck\">\n            <Card className=\"dashboard-card\">\n              <Card.Header>Total</Card.Header>\n              <ListGroup variant=\"flush\">\n                <ListGroup.Item>\n                  Rental Income:{\" \"}\n                  <b>{currencyFormatter.format(cardData.rentalIncome)}</b>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  Loan Interest:{\" \"}\n                  <b>{currencyFormatter.format(cardData.mortgageInterest)}</b>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  Profit: <b>{currencyFormatter.format(cardData.profit)}</b>\n                </ListGroup.Item>\n              </ListGroup>\n            </Card>\n            <Card className=\"dashboard-card\">\n              <Card.Header>Average per Month</Card.Header>\n              <ListGroup variant=\"flush\">\n                <ListGroup.Item>\n                  Rental Income:{\" \"}\n                  <b>\n                    {currencyFormatter.format(\n                      cardData.rentalIncome / cardData.months\n                    )}\n                  </b>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  Operating Costs:{\" \"}\n                  <b>\n                    {currencyFormatter.format(cardData.opex / cardData.months)}\n                  </b>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  Mortgage Payment:{\" \"}\n                  <b>\n                    {currencyFormatter.format(\n                      cardData.mortgagePayment / cardData.months\n                    )}\n                  </b>\n                </ListGroup.Item>\n              </ListGroup>\n            </Card>\n            <Card className=\"dashboard-card\">\n              <Card.Header>Project Metrics</Card.Header>\n              <ListGroup variant=\"flush\">\n                <ListGroup.Item>\n                  IRR:{\" \"}\n                  <b>\n                    {percentageFormatter.format(\n                      IRRCalculation(rawData).postFinance\n                    )}\n                  </b>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  Margin:{\" \"}\n                  <b>\n                    {percentageFormatter.format(\n                      occupierInvestorMOCCalculation(rawData)\n                    )}\n                  </b>\n                </ListGroup.Item>\n              </ListGroup>\n            </Card>\n          </div>\n        </div>\n      </div>\n      <div className=\"dashboard-item\">\n        <div className=\"dashboard-header-container\">\n          <div className=\"dashboard-subheader-container\">\n            <div className=\"dashboard-subheader\">\n              <h3>Cashflow Summary</h3>\n              <h5>\n                <i>after funding</i>\n              </h5>\n            </div>\n            <div className=\"dashboard-table-tooltip\">\n              <CalculatorFormTooltip\n                input={\"cashflowAfterFunding\"}\n                type={\"occupierInvestor\"}\n                placement={\"right\"}\n              />\n            </div>\n          </div>\n          <div className=\"dashboard-button-container\">\n            <Button\n              id=\"dashboard-button\"\n              className=\"dashboard-table-button\"\n              onClick={() => props.setCashflow(userType)}\n              variant=\"primary\"\n            >\n              {props.cashflowTable[userType] ? \"hide\" : \"show\"}\n            </Button>\n          </div>\n        </div>\n        <div\n          className={`dashboard-table-row\n                        ${props.cashflowTable[userType] ? \"\" : \"hide\"}`}\n        >\n          <Table striped bordered hover>\n            <thead>\n              <tr>\n                <th>Year</th>\n                <th className=\"dashboard-table-desktop\">Deposit</th>\n                <th className=\"dashboard-table-desktop\">Rental Income</th>\n                <th className=\"dashboard-table-desktop\">Operating Expenses</th>\n                <th className=\"dashboard-table-desktop\">Net Sale Proceeds</th>\n                <th className=\"dashboard-table-desktop\">Mortgage Costs</th>\n                <th className=\"dashboard-table-mobile\">Total Income</th>\n                <th className=\"dashboard-table-mobile\">Total Costs</th>\n                <th>Net Annual Cashflow</th>\n              </tr>\n            </thead>\n            <tbody>\n              {tableData.annualCashflow.map((c) => (\n                <tr key={c.year}>\n                  <td>{c.year}</td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(c.equityUse)}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(c.rentalIncome)}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(c.opex)}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(c.netSale)}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(c.fundingCost)}\n                  </td>\n                  <td className=\"dashboard-table-mobile\">\n                    {currencyFormatter.format(c.totalIncome)}\n                  </td>\n                  <td className=\"dashboard-table-mobile\">\n                    {currencyFormatter.format(c.totalCost)}\n                  </td>\n                  <td>{currencyFormatter.format(c.postFinanceCashflow)}</td>\n                </tr>\n              ))}\n            </tbody>\n            <tfoot>\n              <tr>\n                <th>Total</th>\n                <td className=\"dashboard-table-desktop\">\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].equityUse\n                  )}\n                </td>\n                <td className=\"dashboard-table-desktop\">\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].rentalIncome\n                  )}\n                </td>\n                <td className=\"dashboard-table-desktop\">\n                  {currencyFormatter.format(tableData.summaryCashflow[0].opex)}\n                </td>\n                <td className=\"dashboard-table-desktop\">\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].netSale\n                  )}\n                </td>\n                <td className=\"dashboard-table-desktop\">\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].fundingCost\n                  )}\n                </td>\n                <td className=\"dashboard-table-mobile\">\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalIncome\n                  )}\n                </td>\n                <td className=\"dashboard-table-mobile\">\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalCost\n                  )}\n                </td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].postFinanceCashflow\n                  )}\n                </td>\n              </tr>\n            </tfoot>\n          </Table>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    values: state.dashboards,\n    cashflowTable: state.navigation.cashflowTable,\n  };\n};\n\nconst mapDispatchToProps = {\n  setCashflow,\n  setModal,\n  editDashboard,\n  getDashboard,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(OccupierInvestorDashboard);\n"]},"metadata":{},"sourceType":"module"}