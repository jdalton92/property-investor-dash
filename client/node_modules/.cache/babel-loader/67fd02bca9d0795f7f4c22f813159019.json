{"ast":null,"code":"var _jsxFileName = \"/home/james/development/property-investor-dash/client/src/components/CalculatorInputs/InvestorForm.js\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { testDashboard, getDashboard } from \"../../reducers/dashboardReducer\";\nimport { CONSTANTS } from \"../../static/constants\";\nimport { helperMessage } from \"../../static/helperMessageText\";\nimport { typeAndUrl } from \"../../utils/dashboardHelper\";\nimport HelperMessage from \"../Shared/HelperMessage\";\nimport Loader from \"../Shared/Loader\";\nimport OwnerOccupierInvestorInputs from \"./OwnerOccupierInvestorInputs\";\n\nconst InvestorForm = ({\n  testDashboard,\n  preSave,\n  currentDashboard,\n  isFetching,\n  getDashboard\n}) => {\n  const id = useParams().id;\n  const history = useHistory();\n  useEffect(() => {\n    if (id && !preSave) {\n      getDashboard(id);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [id]);\n\n  const onSubmit = values => {\n    values.investor = true;\n    values.type = \"occupierInvestor\";\n    testDashboard(values);\n    history.push(\"/investor/dash\");\n  };\n\n  if (isFetching) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w100 flex-row justify-c\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    const {\n      type\n    } = typeAndUrl(currentDashboard);\n    let initialValues = {\n      overPayments: [{}]\n    };\n\n    if ((preSave || id) && type === \"Investor\") {\n      initialValues = currentDashboard.values;\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"f24 bold mt16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, \"Investor Inputs\"), /*#__PURE__*/React.createElement(HelperMessage, {\n      type: CONSTANTS.HELPERMESSAGES.INVESTORFORM,\n      body: helperMessage.investorForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(OwnerOccupierInvestorInputs, {\n      investor: true,\n      initialValues: initialValues,\n      onSubmit: onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }));\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    currentDashboard: state.dashboards.currentDashboard.data,\n    preSave: state.dashboards.currentDashboard.preSave,\n    isFetching: state.dashboards.isFetching\n  };\n};\n\nconst mapDispatchToProps = {\n  testDashboard,\n  getDashboard\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(InvestorForm);","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/components/CalculatorInputs/InvestorForm.js"],"names":["React","useEffect","connect","useHistory","useParams","testDashboard","getDashboard","CONSTANTS","helperMessage","typeAndUrl","HelperMessage","Loader","OwnerOccupierInvestorInputs","InvestorForm","preSave","currentDashboard","isFetching","id","history","onSubmit","values","investor","type","push","initialValues","overPayments","HELPERMESSAGES","INVESTORFORM","investorForm","mapStateToProps","state","dashboards","data","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { testDashboard, getDashboard } from \"../../reducers/dashboardReducer\";\nimport { CONSTANTS } from \"../../static/constants\";\nimport { helperMessage } from \"../../static/helperMessageText\";\nimport { typeAndUrl } from \"../../utils/dashboardHelper\";\nimport HelperMessage from \"../Shared/HelperMessage\";\nimport Loader from \"../Shared/Loader\";\nimport OwnerOccupierInvestorInputs from \"./OwnerOccupierInvestorInputs\";\n\nconst InvestorForm = ({\n  testDashboard,\n  preSave,\n  currentDashboard,\n  isFetching,\n  getDashboard,\n}) => {\n  const id = useParams().id;\n  const history = useHistory();\n\n  useEffect(() => {\n    if (id && !preSave) {\n      getDashboard(id);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  const onSubmit = (values) => {\n    values.investor = true;\n    values.type = \"occupierInvestor\";\n    testDashboard(values);\n    history.push(\"/investor/dash\");\n  };\n\n  if (isFetching) {\n    return (\n      <div className=\"w100 flex-row justify-c\">\n        <Loader />\n      </div>\n    );\n  } else {\n    const { type } = typeAndUrl(currentDashboard);\n\n    let initialValues = { overPayments: [{}] };\n    if ((preSave || id) && type === \"Investor\") {\n      initialValues = currentDashboard.values;\n    }\n\n    return (\n      <>\n        <h1 className=\"f24 bold mt16 mb16\">Investor Inputs</h1>\n        <HelperMessage\n          type={CONSTANTS.HELPERMESSAGES.INVESTORFORM}\n          body={helperMessage.investorForm}\n        />\n        <OwnerOccupierInvestorInputs\n          investor={true}\n          initialValues={initialValues}\n          onSubmit={onSubmit}\n        />\n      </>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    currentDashboard: state.dashboards.currentDashboard.data,\n    preSave: state.dashboards.currentDashboard.preSave,\n    isFetching: state.dashboards.isFetching,\n  };\n};\n\nconst mapDispatchToProps = {\n  testDashboard,\n  getDashboard,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InvestorForm);\n"]},"metadata":{},"sourceType":"module"}