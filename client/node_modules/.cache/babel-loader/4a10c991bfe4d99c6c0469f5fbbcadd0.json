{"ast":null,"code":"var _jsxFileName = \"/home/james/development/property-investor-dash/client/src/components/Dashboards/OccupierInvestorDashboard.js\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport CalculatorFormTooltip from \"../CalculatorForms/CalculatorFormTooltip\";\nimport { editDashboard, getDashboard } from \"../../reducers/dashboardReducer\";\nimport { setCashflow, setModal } from \"../../reducers/navigationReducer\";\nimport { cumulativeChartParse, tableParse, occupierInvestorCalculation, cardParse, occupierInvestorMOCCalculation } from \"../../helpers/occupierInvestorDashboardHelper\";\nimport { currencyFormatter, percentageFormatter, IRRCalculation } from \"../../helpers/dashboardHelper\";\nimport { Line } from \"react-chartjs-2\";\nimport { Table, Card, ListGroup, Button } from \"react-bootstrap\";\nimport \"../styles/Dashboard.css\";\n\nconst OccupierInvestorDashboard = props => {\n  const id = useParams().id;\n  const history = useHistory();\n  let userType;\n  let rawData;\n  let chartData;\n  let tableData;\n  let cardData;\n  useEffect(() => {\n    if (id) {\n      props.getDashboard(id);\n    }\n  }, [id]);\n\n  const handleSave = e => {\n    e.preventDefault();\n    props.setModal(\"saveDashboard\");\n  };\n\n  const handleEdit = e => {\n    e.preventDefault();\n\n    if (id) {\n      if (props.values.data[0].investor) {\n        history.push(`/investor/edit/${id}`);\n      } else {\n        history.push(`/owner-occupier/edit/${id}`);\n      }\n    } else {\n      props.editDashboard();\n\n      if (props.values.values.investor) {\n        history.replace(\"/investor\");\n      } else {\n        history.replace(\"/owner-occupier\");\n      }\n    }\n  };\n\n  console.log(props.values);\n\n  if (props.values.isFetching || !props.values.data[0]) {\n    console.log(\"fetching\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 12\n      }\n    }, \"LOADING...\");\n  } else {\n    var _chartData, _cardData, _cardData2, _cardData3, _cardData4, _cardData5, _cardData6, _cardData7, _cardData8, _cardData9, _tableData, _tableData2, _tableData3, _tableData4, _tableData5, _tableData6, _tableData7, _tableData8, _tableData9;\n\n    userType = props.values.data[0].investor ? \"investor\" : \"ownerOccupier\";\n    rawData = occupierInvestorCalculation(props.values.data[0]);\n    chartData = cumulativeChartParse(rawData);\n    tableData = tableParse(rawData);\n    cardData = cardParse(rawData);\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"dashboard-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, props.title)), /*#__PURE__*/React.createElement(Button, {\n      id: \"dashboard-button\",\n      className: \"dashboard-save-button\",\n      onClick: handleSave,\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, \"Save Dashboard\"), /*#__PURE__*/React.createElement(Button, {\n      id: \"dashboard-button\",\n      className: \"dashboard-edit-button\",\n      onClick: handleEdit,\n      variant: \"outline-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, \"Edit Dashboard\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-subheader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, \"Cumulative Position\"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, \"after funding\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-chart-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Line, {\n      data: chartData.data,\n      options: (_chartData = chartData) === null || _chartData === void 0 ? void 0 : _chartData.options,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-card-deck\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"dashboard-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(ListGroup, {\n      variant: \"flush\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, \"Rental Income:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format((_cardData = cardData) === null || _cardData === void 0 ? void 0 : _cardData.rentalIncome))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 19\n      }\n    }, \"Loan Interest:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format((_cardData2 = cardData) === null || _cardData2 === void 0 ? void 0 : _cardData2.mortgageInterest))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 19\n      }\n    }, \"Profit: \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    }, currencyFormatter.format((_cardData3 = cardData) === null || _cardData3 === void 0 ? void 0 : _cardData3.profit))))), /*#__PURE__*/React.createElement(Card, {\n      className: \"dashboard-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, \"Average per Month\"), /*#__PURE__*/React.createElement(ListGroup, {\n      variant: \"flush\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, \"Rental Income:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(((_cardData4 = cardData) === null || _cardData4 === void 0 ? void 0 : _cardData4.rentalIncome) / ((_cardData5 = cardData) === null || _cardData5 === void 0 ? void 0 : _cardData5.months)))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, \"Operating Costs:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(((_cardData6 = cardData) === null || _cardData6 === void 0 ? void 0 : _cardData6.opex) / ((_cardData7 = cardData) === null || _cardData7 === void 0 ? void 0 : _cardData7.months)))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, \"Mortgage Payment:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(((_cardData8 = cardData) === null || _cardData8 === void 0 ? void 0 : _cardData8.mortgagePayment) / ((_cardData9 = cardData) === null || _cardData9 === void 0 ? void 0 : _cardData9.months)))))), /*#__PURE__*/React.createElement(Card, {\n      className: \"dashboard-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, \"Project Metrics\"), /*#__PURE__*/React.createElement(ListGroup, {\n      variant: \"flush\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }\n    }, \"IRR:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, percentageFormatter.format(IRRCalculation(rawData).postFinance))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }, \"Margin:\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, percentageFormatter.format(occupierInvestorMOCCalculation(rawData))))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-header-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-subheader-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-subheader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, \"Cashflow Summary\"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 19\n      }\n    }, \"after funding\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-table-tooltip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CalculatorFormTooltip, {\n      input: \"cashflowAfterFunding\",\n      type: \"occupierInvestor\",\n      placement: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-button-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      id: \"dashboard-button\",\n      className: \"dashboard-table-button\",\n      onClick: () => props.setCashflow(userType),\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 15\n      }\n    }, props.cashflowTable[userType] ? \"hide\" : \"show\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: `dashboard-table-row\n                        ${props.cashflowTable[userType] ? \"\" : \"hide\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 19\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 19\n      }\n    }, \"Deposit\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 19\n      }\n    }, \"Rental Income\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 19\n      }\n    }, \"Operating Expenses\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 19\n      }\n    }, \"Net Sale Proceeds\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 19\n      }\n    }, \"Mortgage Costs\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dashboard-table-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 19\n      }\n    }, \"Total Income\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dashboard-table-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 19\n      }\n    }, \"Total Costs\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 19\n      }\n    }, \"Net Annual Cashflow\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }\n    }, (_tableData = tableData) === null || _tableData === void 0 ? void 0 : _tableData.annualCashflow.map(c => /*#__PURE__*/React.createElement(\"tr\", {\n      key: c.year,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }\n    }, c.year), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.equityUse)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.rentalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.opex)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.netSale)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.fundingCost)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.totalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.totalCost)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.postFinanceCashflow))))), /*#__PURE__*/React.createElement(\"tfoot\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 19\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format((_tableData2 = tableData) === null || _tableData2 === void 0 ? void 0 : _tableData2.summaryCashflow[0].equityUse)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format((_tableData3 = tableData) === null || _tableData3 === void 0 ? void 0 : _tableData3.summaryCashflow[0].rentalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format((_tableData4 = tableData) === null || _tableData4 === void 0 ? void 0 : _tableData4.summaryCashflow[0].opex)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format((_tableData5 = tableData) === null || _tableData5 === void 0 ? void 0 : _tableData5.summaryCashflow[0].netSale)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format((_tableData6 = tableData) === null || _tableData6 === void 0 ? void 0 : _tableData6.summaryCashflow[0].fundingCost)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format((_tableData7 = tableData) === null || _tableData7 === void 0 ? void 0 : _tableData7.summaryCashflow[0].totalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format((_tableData8 = tableData) === null || _tableData8 === void 0 ? void 0 : _tableData8.summaryCashflow[0].totalCost)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format((_tableData9 = tableData) === null || _tableData9 === void 0 ? void 0 : _tableData9.summaryCashflow[0].postFinanceCashflow))))))));\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    values: state.dashboards,\n    cashflowTable: state.navigation.cashflowTable\n  };\n};\n\nconst mapDispatchToProps = {\n  setCashflow,\n  setModal,\n  editDashboard,\n  getDashboard\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(OccupierInvestorDashboard);","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/components/Dashboards/OccupierInvestorDashboard.js"],"names":["React","useEffect","connect","useHistory","useParams","CalculatorFormTooltip","editDashboard","getDashboard","setCashflow","setModal","cumulativeChartParse","tableParse","occupierInvestorCalculation","cardParse","occupierInvestorMOCCalculation","currencyFormatter","percentageFormatter","IRRCalculation","Line","Table","Card","ListGroup","Button","OccupierInvestorDashboard","props","id","history","userType","rawData","chartData","tableData","cardData","handleSave","e","preventDefault","handleEdit","values","data","investor","push","replace","console","log","isFetching","title","options","format","rentalIncome","mortgageInterest","profit","months","opex","mortgagePayment","postFinance","cashflowTable","annualCashflow","map","c","year","equityUse","netSale","fundingCost","totalIncome","totalCost","postFinanceCashflow","summaryCashflow","mapStateToProps","state","dashboards","navigation","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport CalculatorFormTooltip from \"../CalculatorForms/CalculatorFormTooltip\";\nimport { editDashboard, getDashboard } from \"../../reducers/dashboardReducer\";\nimport { setCashflow, setModal } from \"../../reducers/navigationReducer\";\nimport {\n  cumulativeChartParse,\n  tableParse,\n  occupierInvestorCalculation,\n  cardParse,\n  occupierInvestorMOCCalculation,\n} from \"../../helpers/occupierInvestorDashboardHelper\";\nimport {\n  currencyFormatter,\n  percentageFormatter,\n  IRRCalculation,\n} from \"../../helpers/dashboardHelper\";\nimport { Line } from \"react-chartjs-2\";\nimport { Table, Card, ListGroup, Button } from \"react-bootstrap\";\nimport \"../styles/Dashboard.css\";\n\nconst OccupierInvestorDashboard = (props) => {\n  const id = useParams().id;\n  const history = useHistory();\n\n  let userType;\n  let rawData;\n  let chartData;\n  let tableData;\n  let cardData;\n\n  useEffect(() => {\n    if (id) {\n      props.getDashboard(id);\n    }\n  }, [id]);\n\n  const handleSave = (e) => {\n    e.preventDefault();\n    props.setModal(\"saveDashboard\");\n  };\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    if (id) {\n      if (props.values.data[0].investor) {\n        history.push(`/investor/edit/${id}`);\n      } else {\n        history.push(`/owner-occupier/edit/${id}`);\n      }\n    } else {\n      props.editDashboard();\n      if (props.values.values.investor) {\n        history.replace(\"/investor\");\n      } else {\n        history.replace(\"/owner-occupier\");\n      }\n    }\n  };\n\n  console.log(props.values);\n  if (props.values.isFetching || !props.values.data[0]) {\n    console.log(\"fetching\");\n    return <div>LOADING...</div>;\n  } else {\n    userType = props.values.data[0].investor ? \"investor\" : \"ownerOccupier\";\n    rawData = occupierInvestorCalculation(props.values.data[0]);\n    chartData = cumulativeChartParse(rawData);\n    tableData = tableParse(rawData);\n    cardData = cardParse(rawData);\n    return (\n      <section className=\"dashboard-section\">\n        <div className=\"dashboard-header\">\n          <h1>\n            <b>{props.title}</b>\n          </h1>\n          <Button\n            id=\"dashboard-button\"\n            className=\"dashboard-save-button\"\n            onClick={handleSave}\n            variant=\"primary\"\n          >\n            Save Dashboard\n          </Button>\n          <Button\n            id=\"dashboard-button\"\n            className=\"dashboard-edit-button\"\n            onClick={handleEdit}\n            variant=\"outline-primary\"\n          >\n            Edit Dashboard\n          </Button>\n        </div>\n\n        <div className=\"dashboard-item\">\n          <div className=\"dashboard-subheader\">\n            <h3>Cumulative Position</h3>\n            <h5>\n              <i>after funding</i>\n            </h5>\n          </div>\n          <div className=\"dashboard-row\">\n            <div className=\"dashboard-chart-container\">\n              <Line data={chartData.data} options={chartData?.options} />\n            </div>\n          </div>\n          <div className=\"dashboard-row\">\n            <div className=\"dashboard-card-deck\">\n              <Card className=\"dashboard-card\">\n                <Card.Header>Total</Card.Header>\n                <ListGroup variant=\"flush\">\n                  <ListGroup.Item>\n                    Rental Income:{\" \"}\n                    <b>{currencyFormatter.format(cardData?.rentalIncome)}</b>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    Loan Interest:{\" \"}\n                    <b>\n                      {currencyFormatter.format(cardData?.mortgageInterest)}\n                    </b>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    Profit: <b>{currencyFormatter.format(cardData?.profit)}</b>\n                  </ListGroup.Item>\n                </ListGroup>\n              </Card>\n              <Card className=\"dashboard-card\">\n                <Card.Header>Average per Month</Card.Header>\n                <ListGroup variant=\"flush\">\n                  <ListGroup.Item>\n                    Rental Income:{\" \"}\n                    <b>\n                      {currencyFormatter.format(\n                        cardData?.rentalIncome / cardData?.months\n                      )}\n                    </b>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    Operating Costs:{\" \"}\n                    <b>\n                      {currencyFormatter.format(\n                        cardData?.opex / cardData?.months\n                      )}\n                    </b>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    Mortgage Payment:{\" \"}\n                    <b>\n                      {currencyFormatter.format(\n                        cardData?.mortgagePayment / cardData?.months\n                      )}\n                    </b>\n                  </ListGroup.Item>\n                </ListGroup>\n              </Card>\n              <Card className=\"dashboard-card\">\n                <Card.Header>Project Metrics</Card.Header>\n                <ListGroup variant=\"flush\">\n                  <ListGroup.Item>\n                    IRR:{\" \"}\n                    <b>\n                      {percentageFormatter.format(\n                        IRRCalculation(rawData).postFinance\n                      )}\n                    </b>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    Margin:{\" \"}\n                    <b>\n                      {percentageFormatter.format(\n                        occupierInvestorMOCCalculation(rawData)\n                      )}\n                    </b>\n                  </ListGroup.Item>\n                </ListGroup>\n              </Card>\n            </div>\n          </div>\n        </div>\n        <div className=\"dashboard-item\">\n          <div className=\"dashboard-header-container\">\n            <div className=\"dashboard-subheader-container\">\n              <div className=\"dashboard-subheader\">\n                <h3>Cashflow Summary</h3>\n                <h5>\n                  <i>after funding</i>\n                </h5>\n              </div>\n              <div className=\"dashboard-table-tooltip\">\n                <CalculatorFormTooltip\n                  input={\"cashflowAfterFunding\"}\n                  type={\"occupierInvestor\"}\n                  placement={\"right\"}\n                />\n              </div>\n            </div>\n            <div className=\"dashboard-button-container\">\n              <Button\n                id=\"dashboard-button\"\n                className=\"dashboard-table-button\"\n                onClick={() => props.setCashflow(userType)}\n                variant=\"primary\"\n              >\n                {props.cashflowTable[userType] ? \"hide\" : \"show\"}\n              </Button>\n            </div>\n          </div>\n          <div\n            className={`dashboard-table-row\n                        ${props.cashflowTable[userType] ? \"\" : \"hide\"}`}\n          >\n            <Table striped bordered hover>\n              <thead>\n                <tr>\n                  <th>Year</th>\n                  <th className=\"dashboard-table-desktop\">Deposit</th>\n                  <th className=\"dashboard-table-desktop\">Rental Income</th>\n                  <th className=\"dashboard-table-desktop\">\n                    Operating Expenses\n                  </th>\n                  <th className=\"dashboard-table-desktop\">Net Sale Proceeds</th>\n                  <th className=\"dashboard-table-desktop\">Mortgage Costs</th>\n                  <th className=\"dashboard-table-mobile\">Total Income</th>\n                  <th className=\"dashboard-table-mobile\">Total Costs</th>\n                  <th>Net Annual Cashflow</th>\n                </tr>\n              </thead>\n              <tbody>\n                {tableData?.annualCashflow.map((c) => (\n                  <tr key={c.year}>\n                    <td>{c.year}</td>\n                    <td className=\"dashboard-table-desktop\">\n                      {currencyFormatter.format(c.equityUse)}\n                    </td>\n                    <td className=\"dashboard-table-desktop\">\n                      {currencyFormatter.format(c.rentalIncome)}\n                    </td>\n                    <td className=\"dashboard-table-desktop\">\n                      {currencyFormatter.format(c.opex)}\n                    </td>\n                    <td className=\"dashboard-table-desktop\">\n                      {currencyFormatter.format(c.netSale)}\n                    </td>\n                    <td className=\"dashboard-table-desktop\">\n                      {currencyFormatter.format(c.fundingCost)}\n                    </td>\n                    <td className=\"dashboard-table-mobile\">\n                      {currencyFormatter.format(c.totalIncome)}\n                    </td>\n                    <td className=\"dashboard-table-mobile\">\n                      {currencyFormatter.format(c.totalCost)}\n                    </td>\n                    <td>{currencyFormatter.format(c.postFinanceCashflow)}</td>\n                  </tr>\n                ))}\n              </tbody>\n              <tfoot>\n                <tr>\n                  <th>Total</th>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].equityUse\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].rentalIncome\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].opex\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].netSale\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].fundingCost\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-mobile\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].totalIncome\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-mobile\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].totalCost\n                    )}\n                  </td>\n                  <td>\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].postFinanceCashflow\n                    )}\n                  </td>\n                </tr>\n              </tfoot>\n            </Table>\n          </div>\n        </div>\n      </section>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    values: state.dashboards,\n    cashflowTable: state.navigation.cashflowTable,\n  };\n};\n\nconst mapDispatchToProps = {\n  setCashflow,\n  setModal,\n  editDashboard,\n  getDashboard,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(OccupierInvestorDashboard);\n"]},"metadata":{},"sourceType":"module"}