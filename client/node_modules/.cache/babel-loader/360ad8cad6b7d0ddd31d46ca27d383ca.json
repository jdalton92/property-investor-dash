{"ast":null,"code":"var _jsxFileName = \"/home/james/development/property-investor-dash/client/src/components/Dashboards/OwnerOccupierDashboard.js\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport Tooltip from \"../Shared/Tooltip\";\nimport Loader from \"../Shared/Loader\";\nimport { Icon } from \"../Shared/Icon\";\nimport { getDashboard, preSaveDashboard } from \"../../reducers/dashboardReducer\";\nimport { setCashflow, setModal } from \"../../reducers/navigationReducer\";\nimport { cumulativeChartParse, tableParse, occupierInvestorCalculation, cardParse, occupierInvestorMOCCalculation } from \"../../utils/occupierAndInvestorDataParser\";\nimport { currencyFormatter, percentageFormatter, IRRCalculation } from \"../../utils/dashboardHelper\";\nimport { Line } from \"react-chartjs-2\";\nimport { CONSTANTS } from \"../../static/constants\";\nimport SaveIcon from \"../../styles/svg/save.svg\";\nimport EditIcon from \"../../styles/svg/edit.svg\";\n\nconst OccupierInvestorDashboard = ({\n  dashboards,\n  getDashboard,\n  preSaveDashboard,\n  setModal,\n  cashflowTable,\n  setCashflow\n}) => {\n  const id = useParams().id;\n  const history = useHistory();\n  useEffect(() => {\n    if (id && !dashboards.preSave) {\n      getDashboard(id);\n    }\n  }, [id]);\n\n  const handleSave = e => {\n    e.preventDefault();\n    setModal(\"saveDashboard\");\n  };\n\n  const handleEdit = e => {\n    e.preventDefault();\n    preSaveDashboard();\n\n    if (id) {\n      history.push(`/owner-occupier/edit/${id}`);\n    } else {\n      history.replace(\"/owner-occupier/edit\");\n    }\n  };\n\n  if (dashboards.isFetching || !dashboards.data[0]) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 12\n      }\n    });\n  } else {\n    const userType = CONSTANTS.TYPES.OWNEROCCUPIER;\n    const rawData = occupierInvestorCalculation(dashboards.data[0].values);\n    const chartData = cumulativeChartParse(rawData);\n    const tableData = tableParse(rawData);\n    const cardData = cardParse(rawData);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-row relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"f20 bold mt16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, \"Owner Occupier Dashboard\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-btns flex-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\",\n      onClick: handleSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      size: \"20px\",\n      url: SaveIcon,\n      color: \"white\",\n      hover: false,\n      active: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, \"Save\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"form-button-s bs-3 font-white pt4 pb4 flex-row align-c justify-c\",\n      onClick: handleEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      size: \"20px\",\n      url: EditIcon,\n      color: \"white\",\n      hover: false,\n      active: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, \"Edit\")))), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"f16 bold mt16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, \"Post Funding Metrics\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-row flex-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"r bs-3 bg-1 p20 mb16 o-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, \"Rental Income:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(cardData.rentalIncome))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, \"Loan Interest:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(cardData.mortgageInterest))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, \"Profit:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(cardData.profit))))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"r bs-3 bg-1 p20 mb16 o-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, \"Avg Per Month\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, \"Rental Income:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(cardData.rentalIncome / cardData.months))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, \"Operating Costs:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(cardData.opex / cardData.months))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }, \"Mortgage Payment:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(cardData.mortgagePayment / cardData.months))))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"r bs-3 bg-1 p20 mb16 o-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, \"Project Metrics\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, \"IRR:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, percentageFormatter.format(IRRCalculation(rawData).postFinance))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, \"Margin On Cost:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, percentageFormatter.format(occupierInvestorMOCCalculation(rawData))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-chart r bs-3 bg-1 p20 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"f16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }, \"Cumulative Position After Funding\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\",\n      onClick: handleSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      size: \"20px\",\n      url: SaveIcon,\n      color: \"white\",\n      hover: false,\n      active: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    }, \"Save\"))), /*#__PURE__*/React.createElement(Line, {\n      data: chartData.data,\n      options: chartData === null || chartData === void 0 ? void 0 : chartData.options,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-chart r bs-3 bg-1 p20 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"f16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }\n    }, \"Cashflow Summary After Funding\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"w100 r bs-3 bg-1 p20 mb16 o-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }\n    }, \"Deposit\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }\n    }, \"Rent\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, \"Opex\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, \"Net Sale\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }, \"Mortgage\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    }, \"Total Income\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }, \"Total Costs\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, \"Net Annual Cashflow\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    }, tableData === null || tableData === void 0 ? void 0 : tableData.annualCashflow.map(c => /*#__PURE__*/React.createElement(\"tr\", {\n      key: c.year,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 19\n      }\n    }, c.year), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(c.equityUse)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(c.rentalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(c.opex)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(c.netSale)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(c.fundingCost)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(c.totalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(c.totalCost)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(c.postFinanceCashflow))))), /*#__PURE__*/React.createElement(\"tfoot\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].equityUse)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].rentalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].opex)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].netSale)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].fundingCost)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].totalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].totalCost)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].postFinanceCashflow)))))));\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    dashboards: state.dashboards,\n    cashflowTable: state.navigation.cashflowTable\n  };\n};\n\nconst mapDispatchToProps = {\n  setCashflow,\n  setModal,\n  getDashboard,\n  preSaveDashboard\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(OccupierInvestorDashboard);","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/components/Dashboards/OwnerOccupierDashboard.js"],"names":["React","useEffect","connect","useHistory","useParams","Tooltip","Loader","Icon","getDashboard","preSaveDashboard","setCashflow","setModal","cumulativeChartParse","tableParse","occupierInvestorCalculation","cardParse","occupierInvestorMOCCalculation","currencyFormatter","percentageFormatter","IRRCalculation","Line","CONSTANTS","OccupierInvestorDashboard","dashboards","cashflowTable","id","history","preSave","handleSave","e","preventDefault","handleEdit","push","replace","isFetching","data","userType","TYPES","OWNEROCCUPIER","rawData","values","chartData","tableData","cardData","SaveIcon","EditIcon","format","rentalIncome","mortgageInterest","profit","months","opex","mortgagePayment","postFinance","options","annualCashflow","map","c","year","equityUse","netSale","fundingCost","totalIncome","totalCost","postFinanceCashflow","summaryCashflow","mapStateToProps","state","navigation","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport Tooltip from \"../Shared/Tooltip\";\nimport Loader from \"../Shared/Loader\";\nimport { Icon } from \"../Shared/Icon\";\nimport {\n  getDashboard,\n  preSaveDashboard,\n} from \"../../reducers/dashboardReducer\";\nimport { setCashflow, setModal } from \"../../reducers/navigationReducer\";\nimport {\n  cumulativeChartParse,\n  tableParse,\n  occupierInvestorCalculation,\n  cardParse,\n  occupierInvestorMOCCalculation,\n} from \"../../utils/occupierAndInvestorDataParser\";\nimport {\n  currencyFormatter,\n  percentageFormatter,\n  IRRCalculation,\n} from \"../../utils/dashboardHelper\";\nimport { Line } from \"react-chartjs-2\";\nimport { CONSTANTS } from \"../../static/constants\";\nimport SaveIcon from \"../../styles/svg/save.svg\";\nimport EditIcon from \"../../styles/svg/edit.svg\";\n\nconst OccupierInvestorDashboard = ({\n  dashboards,\n  getDashboard,\n  preSaveDashboard,\n  setModal,\n  cashflowTable,\n  setCashflow,\n}) => {\n  const id = useParams().id;\n  const history = useHistory();\n\n  useEffect(() => {\n    if (id && !dashboards.preSave) {\n      getDashboard(id);\n    }\n  }, [id]);\n\n  const handleSave = (e) => {\n    e.preventDefault();\n    setModal(\"saveDashboard\");\n  };\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    preSaveDashboard();\n    if (id) {\n      history.push(`/owner-occupier/edit/${id}`);\n    } else {\n      history.replace(\"/owner-occupier/edit\");\n    }\n  };\n\n  if (dashboards.isFetching || !dashboards.data[0]) {\n    return <Loader />;\n  } else {\n    const userType = CONSTANTS.TYPES.OWNEROCCUPIER;\n    const rawData = occupierInvestorCalculation(dashboards.data[0].values);\n    const chartData = cumulativeChartParse(rawData);\n    const tableData = tableParse(rawData);\n    const cardData = cardParse(rawData);\n    return (\n      <>\n        <div className=\"dash-row relative\">\n          <h2 className=\"f20 bold mt16 mb16\">Owner Occupier Dashboard</h2>\n          <div className=\"dash-btns flex-row\">\n            <button\n              type=\"submit\"\n              className=\"form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\"\n              onClick={handleSave}\n            >\n              <Icon\n                size={\"20px\"}\n                url={SaveIcon}\n                color={\"white\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8\">Save</span>\n            </button>\n            <button\n              type=\"submit\"\n              className=\"form-button-s bs-3 font-white pt4 pb4 flex-row align-c justify-c\"\n              onClick={handleEdit}\n            >\n              <Icon\n                size={\"20px\"}\n                url={EditIcon}\n                color={\"white\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8\">Edit</span>\n            </button>\n          </div>\n        </div>\n        <h2 className=\"f16 bold mt16 mb16\">Post Funding Metrics</h2>\n        <div className=\"dash-row flex-row\">\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Total</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Rental Income:</td>\n                <td>{currencyFormatter.format(cardData.rentalIncome)}</td>\n              </tr>\n              <tr>\n                <td>Loan Interest:</td>\n                <td>{currencyFormatter.format(cardData.mortgageInterest)}</td>\n              </tr>\n              <tr>\n                <td>Profit:</td>\n                <td>{currencyFormatter.format(cardData.profit)}</td>\n              </tr>\n            </tbody>\n          </table>\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Avg Per Month</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Rental Income:</td>\n                <td>\n                  {currencyFormatter.format(\n                    cardData.rentalIncome / cardData.months\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Operating Costs:</td>\n                <td>\n                  {currencyFormatter.format(cardData.opex / cardData.months)}\n                </td>\n              </tr>\n              <tr>\n                <td>Mortgage Payment:</td>\n                <td>\n                  {currencyFormatter.format(\n                    cardData.mortgagePayment / cardData.months\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Project Metrics</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>IRR:</td>\n                <td>\n                  {percentageFormatter.format(\n                    IRRCalculation(rawData).postFinance\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Margin On Cost:</td>\n                <td>\n                  {percentageFormatter.format(\n                    occupierInvestorMOCCalculation(rawData)\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div className=\"dash-chart r bs-3 bg-1 p20 mb16\">\n          <div className=\"relative\">\n            <h3 className=\"f16 mb16\">Cumulative Position After Funding</h3>\n            <button\n              type=\"submit\"\n              className=\"form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\"\n              onClick={handleSave}\n            >\n              <Icon\n                size={\"20px\"}\n                url={SaveIcon}\n                color={\"white\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8\">Save</span>\n            </button>\n          </div>\n          <Line data={chartData.data} options={chartData?.options} />\n        </div>\n        <div className=\"dash-chart r bs-3 bg-1 p20 mb16\">\n          <h3 className=\"f16 mb16\">Cashflow Summary After Funding</h3>\n          <table className=\"w100 r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Year</th>\n                <th className=\"dash-desktop\">Deposit</th>\n                <th className=\"dash-desktop\">Rent</th>\n                <th className=\"dash-desktop\">Opex</th>\n                <th className=\"dash-desktop\">Net Sale</th>\n                <th className=\"dash-desktop\">Mortgage</th>\n                <th className=\"dash-mobile\">Total Income</th>\n                <th className=\"dash-mobile\">Total Costs</th>\n                <th>Net Annual Cashflow</th>\n              </tr>\n            </thead>\n            <tbody>\n              {tableData?.annualCashflow.map((c) => (\n                <tr key={c.year}>\n                  <td>{c.year}</td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(c.equityUse)}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(c.rentalIncome)}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(c.opex)}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(c.netSale)}\n                  </td>\n                  <td className=\"dash-desktop\">\n                    {currencyFormatter.format(c.fundingCost)}\n                  </td>\n                  <td className=\"dash-mobile\">\n                    {currencyFormatter.format(c.totalIncome)}\n                  </td>\n                  <td className=\"dash-mobile\">\n                    {currencyFormatter.format(c.totalCost)}\n                  </td>\n                  <td>{currencyFormatter.format(c.postFinanceCashflow)}</td>\n                </tr>\n              ))}\n            </tbody>\n            <tfoot>\n              <tr>\n                <th>Total</th>\n                <td className=\"dashboard-table-desktop\">\n                  {currencyFormatter.format(\n                    tableData?.summaryCashflow[0].equityUse\n                  )}\n                </td>\n                <td className=\"dashboard-table-desktop\">\n                  {currencyFormatter.format(\n                    tableData?.summaryCashflow[0].rentalIncome\n                  )}\n                </td>\n                <td className=\"dashboard-table-desktop\">\n                  {currencyFormatter.format(tableData?.summaryCashflow[0].opex)}\n                </td>\n                <td className=\"dashboard-table-desktop\">\n                  {currencyFormatter.format(\n                    tableData?.summaryCashflow[0].netSale\n                  )}\n                </td>\n                <td className=\"dashboard-table-desktop\">\n                  {currencyFormatter.format(\n                    tableData?.summaryCashflow[0].fundingCost\n                  )}\n                </td>\n                <td className=\"dashboard-table-mobile\">\n                  {currencyFormatter.format(\n                    tableData?.summaryCashflow[0].totalIncome\n                  )}\n                </td>\n                <td className=\"dashboard-table-mobile\">\n                  {currencyFormatter.format(\n                    tableData?.summaryCashflow[0].totalCost\n                  )}\n                </td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData?.summaryCashflow[0].postFinanceCashflow\n                  )}\n                </td>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n      </>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    dashboards: state.dashboards,\n    cashflowTable: state.navigation.cashflowTable,\n  };\n};\n\nconst mapDispatchToProps = {\n  setCashflow,\n  setModal,\n  getDashboard,\n  preSaveDashboard,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(OccupierInvestorDashboard);\n"]},"metadata":{},"sourceType":"module"}