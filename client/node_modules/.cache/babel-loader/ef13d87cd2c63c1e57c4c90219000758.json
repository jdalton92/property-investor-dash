{"ast":null,"code":"var _jsxFileName = \"/home/james/development/property-investor-dash/client/src/components/Dashboards/DeveloperDashboard.js\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { setCashflow, setModal } from \"../../reducers/navigationReducer\";\nimport { getDashboard, preSaveDashboard } from \"../../reducers/dashboardReducer\"; // import CalculatorFormTooltip from \"../CalculatorForms/CalculatorFormTooltip\";\n\nimport { cumulativeChartParse, annualChartParse, tableParse, developerCalculation, developerMOCCalculation, fundingChartParse } from \"../../utils/developerDashboardDataParser\";\nimport { currencyFormatter, percentageFormatter, IRRCalculation } from \"../../utils/dashboardHelper\";\nimport { Line, Bar } from \"react-chartjs-2\";\nimport Loader from \"../Shared/Loader\";\nimport { Icon } from \"../Shared/Icon\";\nimport SaveIcon from \"../../styles/svg/save.svg\";\nimport EditIcon from \"../../styles/svg/edit.svg\";\n\nconst DeveloperDashboard = ({\n  dashboards,\n  getDashboard,\n  preSaveDashboard,\n  setModal,\n  cashflowTable,\n  setCashflow\n}) => {\n  const [showUnleveredCashflow, setShowUnleveredCashflow] = useState(true);\n  const [showLeveredCashflow, setShowLeveredCashflow] = useState(true);\n  const id = useParams().id;\n  const history = useHistory();\n  useEffect(() => {\n    if (id && !dashboards.preSave) {\n      getDashboard(id);\n    }\n  }, [id]);\n\n  const handleSave = e => {\n    e.preventDefault();\n    setModal(\"saveDashboard\");\n  };\n\n  const handleEdit = e => {\n    e.preventDefault();\n    preSaveDashboard();\n\n    if (id) {\n      history.push(`/developer/edit/${id}`);\n    } else {\n      history.push(`/developer/edit`);\n    }\n  };\n\n  if (dashboards.isFetching || !dashboards.data[0]) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 12\n      }\n    });\n  } else {\n    const rawData = developerCalculation(dashboards.data[0].values);\n    const annualChart = annualChartParse(rawData);\n    const cumulativeChart = cumulativeChartParse(rawData);\n    const tableData = tableParse(rawData);\n    const fundingChart = fundingChartParse(rawData);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-row relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"f20 bold mt16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, \"Developer Dashboard\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-btns flex-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\",\n      onClick: handleSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      size: \"20px\",\n      url: SaveIcon,\n      color: \"white\",\n      hover: false,\n      active: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, \"Save\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"form-button-s bs-3 font-white pt4 pb4 flex-row align-c justify-c\",\n      onClick: handleEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      size: \"20px\",\n      url: EditIcon,\n      color: \"white\",\n      hover: false,\n      active: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, \"Edit\")))), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"f16 bold mt16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, \"Pre Funding Metrics\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-row flex-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"r bs-3 bg-1 p20 mb16 o-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, \"Revenue:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].totalRevenue))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, \"Costs:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].totalCostsPreFinance))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, \"Profit:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].preFinanceCashflow))))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"r bs-3 bg-1 p20 mb16 o-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, \"Per Dwelling\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }, \"Revenue:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].totalRevenue / dashboards.data[0].values.dwellings))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }, \"Costs:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].totalCostsPreFinance / dashboards.data[0].values.dwellings))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, \"Profit:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].preFinanceCashflow / dashboards.data[0].values.dwellings))))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"r bs-3 bg-1 p20 mb16 o-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }\n    }, \"Unlevered Metrics\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }, \"IRR:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }, percentageFormatter.format(IRRCalculation(rawData).preFinance))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }, \"Margin On Cost:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, percentageFormatter.format(developerMOCCalculation(rawData).preFinance)))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-chart r bs-3 bg-1 p20 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"f16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }\n    }, \"Cumulative Position Before Funding\"), /*#__PURE__*/React.createElement(Line, {\n      data: cumulativeChart.data.preFinance,\n      options: cumulativeChart.options,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"f16 bold mt16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }\n    }, \"Post Funding Metrics\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-row flex-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"r bs-3 bg-1 p20 mb16 o-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }\n    }, \"Revenue:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].totalRevenue))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }, \"Costs:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].totalCostsPostFinance))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }\n    }, \"Profit:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].postFinanceCashflow))))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"r bs-3 bg-1 p20 mb16 o-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }, \"Per Dwelling\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }\n    }, \"Revenue:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].totalRevenue / dashboards.data[0].values.dwellings))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }\n    }, \"Costs:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].totalCostsPostFinance / dashboards.data[0].values.dwellings))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }\n    }, \"Profit:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 17\n      }\n    }, currencyFormatter.format(tableData.summaryCashflow[0].postFinanceCashflow / dashboards.data[0].values.dwellings))))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"r bs-3 bg-1 p20 mb16 o-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }\n    }, \"Levered Metrics\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }\n    }, \"IRR:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }\n    }, percentageFormatter.format(IRRCalculation(rawData).postFinance))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 17\n      }\n    }, \"Margin On Cost:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 17\n      }\n    }, percentageFormatter.format(developerMOCCalculation(rawData).postFinance)))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-chart r bs-3 bg-1 p20 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"f16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }\n    }, \"Cumulative Position After Funding\"), /*#__PURE__*/React.createElement(Line, {\n      data: cumulativeChart.data.postFinance,\n      options: cumulativeChart.options,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-chart r bs-3 bg-1 p20 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"f16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }\n    }, \"Cumulative Funding Uses\"), /*#__PURE__*/React.createElement(Line, {\n      data: fundingChart.data,\n      options: fundingChart.options,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-chart r bs-3 bg-1 p20 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"f16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }\n    }, \"Annual Cashflow\"), /*#__PURE__*/React.createElement(Bar, {\n      data: annualChart.data,\n      options: annualChart.options,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-cashflow r bs-3 bg-1 p20 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-row align-c mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"f16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 15\n      }\n    }, \"Cashflow Summary After Funding\"), /*#__PURE__*/React.createElement(Tooltip, {\n      message: message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"absolute form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\",\n      onClick: () => setShowCashflow(!showCashflow),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      size: \"20px\",\n      url: showCashflow ? CollapseIcon : ExpandIcon,\n      color: \"white\",\n      hover: false,\n      active: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 15\n      }\n    }, showCashflow ? \"Hide\" : \"Show\"))), showCashflow && /*#__PURE__*/React.createElement(\"table\", {\n      className: \"w100 r bs-3 bg-1 p20 mb16 o-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 19\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 19\n      }\n    }, \"Deposit\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 19\n      }\n    }, \"Rent\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 19\n      }\n    }, \"Opex\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 19\n      }\n    }, \"Net Sale\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 19\n      }\n    }, \"Mortgage\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 19\n      }\n    }, \"Total Income\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"dash-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 19\n      }\n    }, \"Total Costs\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 19\n      }\n    }, \"Net Annual Cashflow\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 15\n      }\n    }, tableData === null || tableData === void 0 ? void 0 : tableData.annualCashflow.map(c => /*#__PURE__*/React.createElement(\"tr\", {\n      key: c.year,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 21\n      }\n    }, c.year), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.equityUse)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.rentalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.opex)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.netSale)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.fundingCost)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.totalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dash-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.totalCost)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 21\n      }\n    }, currencyFormatter.format(c.postFinanceCashflow))))), /*#__PURE__*/React.createElement(\"tfoot\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 19\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].equityUse)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].rentalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].opex)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].netSale)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-desktop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].fundingCost)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].totalIncome)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"dashboard-table-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].totalCost)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 19\n      }\n    }, currencyFormatter.format(tableData === null || tableData === void 0 ? void 0 : tableData.summaryCashflow[0].postFinanceCashflow)))))));\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    dashboards: state.dashboards,\n    cashflowTable: state.navigation.cashflowTable,\n    user: state.user\n  };\n};\n\nconst mapDispatchToProps = {\n  setCashflow,\n  setModal,\n  getDashboard,\n  preSaveDashboard\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(DeveloperDashboard);","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/components/Dashboards/DeveloperDashboard.js"],"names":["React","useEffect","connect","useHistory","useParams","setCashflow","setModal","getDashboard","preSaveDashboard","cumulativeChartParse","annualChartParse","tableParse","developerCalculation","developerMOCCalculation","fundingChartParse","currencyFormatter","percentageFormatter","IRRCalculation","Line","Bar","Loader","Icon","DeveloperDashboard","dashboards","cashflowTable","showUnleveredCashflow","setShowUnleveredCashflow","useState","showLeveredCashflow","setShowLeveredCashflow","id","history","preSave","handleSave","e","preventDefault","handleEdit","push","isFetching","data","rawData","values","annualChart","cumulativeChart","tableData","fundingChart","SaveIcon","EditIcon","format","summaryCashflow","totalRevenue","totalCostsPreFinance","preFinanceCashflow","dwellings","preFinance","options","totalCostsPostFinance","postFinanceCashflow","postFinance","message","setShowCashflow","showCashflow","CollapseIcon","ExpandIcon","annualCashflow","map","c","year","equityUse","rentalIncome","opex","netSale","fundingCost","totalIncome","totalCost","mapStateToProps","state","navigation","user","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { setCashflow, setModal } from \"../../reducers/navigationReducer\";\nimport {\n  getDashboard,\n  preSaveDashboard,\n} from \"../../reducers/dashboardReducer\";\n// import CalculatorFormTooltip from \"../CalculatorForms/CalculatorFormTooltip\";\nimport {\n  cumulativeChartParse,\n  annualChartParse,\n  tableParse,\n  developerCalculation,\n  developerMOCCalculation,\n  fundingChartParse,\n} from \"../../utils/developerDashboardDataParser\";\nimport {\n  currencyFormatter,\n  percentageFormatter,\n  IRRCalculation,\n} from \"../../utils/dashboardHelper\";\nimport { Line, Bar } from \"react-chartjs-2\";\nimport Loader from \"../Shared/Loader\";\nimport { Icon } from \"../Shared/Icon\";\nimport SaveIcon from \"../../styles/svg/save.svg\";\nimport EditIcon from \"../../styles/svg/edit.svg\";\n\nconst DeveloperDashboard = ({\n  dashboards,\n  getDashboard,\n  preSaveDashboard,\n  setModal,\n  cashflowTable,\n  setCashflow,\n}) => {\n  const [showUnleveredCashflow, setShowUnleveredCashflow] = useState(true);\n  const [showLeveredCashflow, setShowLeveredCashflow] = useState(true);\n  const id = useParams().id;\n  const history = useHistory();\n\n  useEffect(() => {\n    if (id && !dashboards.preSave) {\n      getDashboard(id);\n    }\n  }, [id]);\n\n  const handleSave = (e) => {\n    e.preventDefault();\n    setModal(\"saveDashboard\");\n  };\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    preSaveDashboard();\n    if (id) {\n      history.push(`/developer/edit/${id}`);\n    } else {\n      history.push(`/developer/edit`);\n    }\n  };\n\n  if (dashboards.isFetching || !dashboards.data[0]) {\n    return <Loader />;\n  } else {\n    const rawData = developerCalculation(dashboards.data[0].values);\n    const annualChart = annualChartParse(rawData);\n    const cumulativeChart = cumulativeChartParse(rawData);\n    const tableData = tableParse(rawData);\n    const fundingChart = fundingChartParse(rawData);\n    return (\n      <>\n        <div className=\"dash-row relative\">\n          <h2 className=\"f20 bold mt16 mb16\">Developer Dashboard</h2>\n          <div className=\"dash-btns flex-row\">\n            <button\n              type=\"submit\"\n              className=\"form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\"\n              onClick={handleSave}\n            >\n              <Icon\n                size={\"20px\"}\n                url={SaveIcon}\n                color={\"white\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8\">Save</span>\n            </button>\n            <button\n              type=\"submit\"\n              className=\"form-button-s bs-3 font-white pt4 pb4 flex-row align-c justify-c\"\n              onClick={handleEdit}\n            >\n              <Icon\n                size={\"20px\"}\n                url={EditIcon}\n                color={\"white\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8\">Edit</span>\n            </button>\n          </div>\n        </div>\n        <h2 className=\"f16 bold mt16 mb16\">Pre Funding Metrics</h2>\n        <div className=\"dash-row flex-row\">\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Total</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Revenue:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalRevenue\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Costs:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalCostsPreFinance\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Profit:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].preFinanceCashflow\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Per Dwelling</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Revenue:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalRevenue /\n                      dashboards.data[0].values.dwellings\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Costs:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalCostsPreFinance /\n                      dashboards.data[0].values.dwellings\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Profit:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].preFinanceCashflow /\n                      dashboards.data[0].values.dwellings\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Unlevered Metrics</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>IRR:</td>\n                <td>\n                  {percentageFormatter.format(\n                    IRRCalculation(rawData).preFinance\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Margin On Cost:</td>\n                <td>\n                  {percentageFormatter.format(\n                    developerMOCCalculation(rawData).preFinance\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div className=\"dash-chart r bs-3 bg-1 p20 mb16\">\n          <h3 className=\"f16 mb16\">Cumulative Position Before Funding</h3>\n          <Line\n            data={cumulativeChart.data.preFinance}\n            options={cumulativeChart.options}\n          />\n        </div>\n        <h2 className=\"f16 bold mt16 mb16\">Post Funding Metrics</h2>\n        <div className=\"dash-row flex-row\">\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Total</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Revenue:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalRevenue\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Costs:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalCostsPostFinance\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Profit:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].postFinanceCashflow\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Per Dwelling</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Revenue:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalRevenue /\n                      dashboards.data[0].values.dwellings\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Costs:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].totalCostsPostFinance /\n                      dashboards.data[0].values.dwellings\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Profit:</td>\n                <td>\n                  {currencyFormatter.format(\n                    tableData.summaryCashflow[0].postFinanceCashflow /\n                      dashboards.data[0].values.dwellings\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <table className=\"r bs-3 bg-1 p20 mb16 o-hidden\">\n            <thead>\n              <tr>\n                <th>Levered Metrics</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>IRR:</td>\n                <td>\n                  {percentageFormatter.format(\n                    IRRCalculation(rawData).postFinance\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Margin On Cost:</td>\n                <td>\n                  {percentageFormatter.format(\n                    developerMOCCalculation(rawData).postFinance\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div className=\"dash-chart r bs-3 bg-1 p20 mb16\">\n          <h3 className=\"f16 mb16\">Cumulative Position After Funding</h3>\n          <Line\n            data={cumulativeChart.data.postFinance}\n            options={cumulativeChart.options}\n          />\n        </div>\n        <div className=\"dash-chart r bs-3 bg-1 p20 mb16\">\n          <h3 className=\"f16 mb16\">Cumulative Funding Uses</h3>\n          <Line data={fundingChart.data} options={fundingChart.options} />\n        </div>\n        <div className=\"dash-chart r bs-3 bg-1 p20 mb16\">\n          <h3 className=\"f16 mb16\">Annual Cashflow</h3>\n          <Bar data={annualChart.data} options={annualChart.options} />\n        </div>\n        <div className=\"dash-cashflow r bs-3 bg-1 p20 mb16\">\n          <div className=\"relative\">\n            <div className=\"flex-row align-c mb16\">\n              <h3 className=\"f16\">Cashflow Summary After Funding</h3>\n              <Tooltip message={message} />\n            </div>\n            <button\n              type=\"submit\"\n              className=\"absolute form-button-p bs-3 font-white pt4 pb4 flex-row align-c justify-c\"\n              onClick={() => setShowCashflow(!showCashflow)}\n            >\n              <Icon\n                size={\"20px\"}\n                url={showCashflow ? CollapseIcon : ExpandIcon}\n                color={\"white\"}\n                hover={false}\n                active={false}\n              />\n              <span className=\"ml8\">{showCashflow ? \"Hide\" : \"Show\"}</span>\n            </button>\n          </div>\n          {showCashflow && (\n            <table className=\"w100 r bs-3 bg-1 p20 mb16 o-hidden\">\n              <thead>\n                <tr>\n                  <th>Year</th>\n                  <th className=\"dash-desktop\">Deposit</th>\n                  <th className=\"dash-desktop\">Rent</th>\n                  <th className=\"dash-desktop\">Opex</th>\n                  <th className=\"dash-desktop\">Net Sale</th>\n                  <th className=\"dash-desktop\">Mortgage</th>\n                  <th className=\"dash-mobile\">Total Income</th>\n                  <th className=\"dash-mobile\">Total Costs</th>\n                  <th>Net Annual Cashflow</th>\n                </tr>\n              </thead>\n              <tbody>\n                {tableData?.annualCashflow.map((c) => (\n                  <tr key={c.year}>\n                    <td>{c.year}</td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.equityUse)}\n                    </td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.rentalIncome)}\n                    </td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.opex)}\n                    </td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.netSale)}\n                    </td>\n                    <td className=\"dash-desktop\">\n                      {currencyFormatter.format(c.fundingCost)}\n                    </td>\n                    <td className=\"dash-mobile\">\n                      {currencyFormatter.format(c.totalIncome)}\n                    </td>\n                    <td className=\"dash-mobile\">\n                      {currencyFormatter.format(c.totalCost)}\n                    </td>\n                    <td>{currencyFormatter.format(c.postFinanceCashflow)}</td>\n                  </tr>\n                ))}\n              </tbody>\n              <tfoot>\n                <tr>\n                  <th>Total</th>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].equityUse\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].rentalIncome\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].opex\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].netSale\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-desktop\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].fundingCost\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-mobile\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].totalIncome\n                    )}\n                  </td>\n                  <td className=\"dashboard-table-mobile\">\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].totalCost\n                    )}\n                  </td>\n                  <td>\n                    {currencyFormatter.format(\n                      tableData?.summaryCashflow[0].postFinanceCashflow\n                    )}\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n          )}\n        </div>\n      </>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    dashboards: state.dashboards,\n    cashflowTable: state.navigation.cashflowTable,\n    user: state.user,\n  };\n};\n\nconst mapDispatchToProps = {\n  setCashflow,\n  setModal,\n  getDashboard,\n  preSaveDashboard,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeveloperDashboard);\n"]},"metadata":{},"sourceType":"module"}