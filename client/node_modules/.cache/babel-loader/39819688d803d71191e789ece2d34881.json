{"ast":null,"code":"var _jsxFileName = \"/home/james/development/property-investor-dash/client/src/components/Dashboards/SaveDashboardModal.js\";\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Field } from \"react-final-form\";\nimport { setModal, setTab } from \"../../reducers/navigationReducer\";\nimport { saveDashboard, updateDashboard } from \"../../reducers/dashboardReducer\";\nimport { composeValidators, required, maxLength, minLength } from \"../../utils/formValidatorHelper\";\nimport { formatDate } from \"../../utils/dashboardHelper\";\nimport { CONSTANTS } from \"../../static/constants\";\nimport Button from \"../Shared/Button\";\nimport { Icon } from \"../Shared/Icon\";\nimport Loader from \"../Shared/Loader\";\nimport CloseIcon from \"../../styles/svg/close.svg\";\nimport SaveIcon from \"../../styles/svg/save.svg\";\nimport OverwriteIcon from \"../../styles/svg/overwrite.svg\";\n\nconst SaveDashboardModal = ({\n  isFetching,\n  currentDashboard,\n  savedDashboards,\n  setModal,\n  saveDashboard,\n  updateDashboard,\n  setTab,\n  tab\n}) => {\n  const [selectedDashboard, setSelectedDashboard] = useState(\"\");\n\n  const handleSave = async saveData => {\n    const dashObject = {\n      values: currentDashboard,\n      ...saveData\n    };\n    await saveDashboard(dashObject);\n    setModal(CONSTANTS.MODALS.SAVEDASHBOARD, false);\n  };\n\n  const handleOverwrite = async id => {\n    // Original saved data\n    const dashboard = savedDashboards.filter(d => d._id === id); // New data\n\n    dashboard.data = currentDashboard;\n    await updateDashboard(dashboard);\n    setModal(CONSTANTS.MODALS.SAVEDASHBOARD, false);\n  };\n\n  const handleCancel = () => {\n    // React Final Form handles preventDefault()\n    setModal(CONSTANTS.MODALS.SAVEDASHBOARD, false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal mt60 fixed r bs-3 bg-1 p20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    ariaLabel: \"Close\",\n    dataBalloonPos: \"left\",\n    extraClass: \"modal-close-btn mt20 mr20 button-p align-c justify-c\",\n    onClick: handleCancel,\n    iconUrl: CloseIcon,\n    iconColor: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"f20 bold mb16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, \"Save Dashboard\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: `save-opt button-transp-s rt pl16 pr16 flex-row align-c justify-c jump ${tab === CONSTANTS.TABS.SAVEDASHBOARD.SAVE ? \"active\" : \"\"}`,\n    onClick: () => setTab(\"saveDashboard\", CONSTANTS.TABS.SAVEDASHBOARD.SAVE),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    size: \"20px\",\n    url: SaveIcon,\n    color: \"black\",\n    hover: false,\n    active: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml8 f16 bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Save New\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: `save-opt button-transp-s rt pl16 pr16 flex-row align-c justify-c jump ${tab === CONSTANTS.TABS.SAVEDASHBOARD.OVERWRITE ? \"active\" : \"\"}`,\n    onClick: () => setTab(\"saveDashboard\", CONSTANTS.TABS.SAVEDASHBOARD.OVERWRITE),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    size: \"20px\",\n    url: OverwriteIcon,\n    color: \"black\",\n    hover: false,\n    active: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml8 f16 bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"Overwrite Existing\"))), isFetching && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 22\n    }\n  }), !isFetching && tab === CONSTANTS.TABS.SAVEDASHBOARD.SAVE && /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSave,\n    render: ({\n      handleSubmit,\n      form\n    }) => /*#__PURE__*/React.createElement(\"form\", {\n      className: \"save-form mt20 mb20\",\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-row align-c relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"save-description\",\n      className: \"f16 mb8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, \"Description\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-red f12 bold ml4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 19\n      }\n    }, \"*\"))), /*#__PURE__*/React.createElement(Field, {\n      name: \"description\",\n      validate: composeValidators(required, minLength(3), maxLength(200)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, ({\n      input,\n      meta\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"relative mb20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      id: \"save-description\",\n      className: \"form-input bs-1 w100\",\n      placeholder: \"Description\",\n      type: \"text\"\n    }, input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    })), meta.error && meta.touched && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"form-error f10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 23\n      }\n    }, meta.error))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-row align-c relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"save-description\",\n      className: \"f16 mb8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, \"Address\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-red f12 bold ml4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, \"*\"))), /*#__PURE__*/React.createElement(Field, {\n      name: \"address\",\n      validate: composeValidators(required, minLength(3), maxLength(200)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, ({\n      input,\n      meta\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"relative mb20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      id: \"save-address\",\n      className: \"form-input bs-1 w100\",\n      placeholder: \"Address\",\n      type: \"text\"\n    }, input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    })), meta.error && meta.touched && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"form-error f10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 23\n      }\n    }, meta.error))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"form-button-p bs-3 font-white mt12 pt8 pb8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, \"Save As\"))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }), !isFetching && tab === CONSTANTS.TABS.SAVEDASHBOARD.OVERWRITE && savedDashboards.length === 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt20 f16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }\n  }, \"No saved dashboards...\"), !isFetching && tab === CONSTANTS.TABS.SAVEDASHBOARD.OVERWRITE && savedDashboards.length > 0 && /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleOverwrite,\n    render: ({\n      handleSubmit,\n      form,\n      values\n    }) => /*#__PURE__*/React.createElement(\"form\", {\n      className: \"save-form mt20 mb20\",\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-row align-c relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"save-overwrite\",\n      className: \"f16 mb8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    }, \"Dashboard\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-red f12 bold ml4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }\n    }, \"*\"))), /*#__PURE__*/React.createElement(Field, {\n      name: \"dashboard\",\n      validate: required,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }\n    }, ({\n      input,\n      meta\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mh300 o-y-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      id: \"save-overwrite\",\n      className: \"overpayments w100 mb20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"h768\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }\n    }, \"Ref\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 29\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"h768\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 29\n      }\n    }, \"Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 29\n      }\n    }, \"Created\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 29\n      }\n    }, \"Overwrite\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    }, savedDashboards.map((d, i) => {\n      var _d$values;\n\n      let type;\n\n      if (d.values.type === \"developer\") {\n        type = \"Developer\";\n      } else if ((_d$values = d.values) === null || _d$values === void 0 ? void 0 : _d$values.investor) {\n        type = \"Investor\";\n      } else {\n        type = \"Owner Occupier\";\n      }\n\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: i,\n        onClick: () => selectedDashboard === d._id ? setSelectedDashboard(\"\") : setSelectedDashboard(d._id),\n        className: `${d._id === selectedDashboard ? \"selected\" : \"\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"h768\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 33\n        }\n      }, i + 1), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 33\n        }\n      }, d.description), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"h768\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 33\n        }\n      }, type), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 33\n        }\n      }, formatDate(d.date)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"ml16\",\n        type: \"checkbox\",\n        checked: d._id === selectedDashboard,\n        value: d._id,\n        onChange: () => setSelectedDashboard(d._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 35\n        }\n      })));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-row align-c relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"save-description\",\n      className: \"f16 mb8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 25\n      }\n    }, \"Description\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-red f12 bold ml4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 27\n      }\n    }, \"*\"))), /*#__PURE__*/React.createElement(Field, {\n      name: \"description\",\n      validate: composeValidators(required, minLength(3), maxLength(200)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 23\n      }\n    }, ({\n      input,\n      meta\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"relative mb20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      id: \"save-description\",\n      className: \"form-input bs-1 w100\",\n      placeholder: \"Description\",\n      type: \"text\"\n    }, input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 29\n      }\n    })), meta.error && meta.touched && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"form-error f10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 31\n      }\n    }, meta.error))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-row align-c relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"save-description\",\n      className: \"f16 mb8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 25\n      }\n    }, \"Address\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-red f12 bold ml4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 27\n      }\n    }, \"*\"))), /*#__PURE__*/React.createElement(Field, {\n      name: \"address\",\n      validate: composeValidators(required, minLength(3), maxLength(200)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 23\n      }\n    }, ({\n      input,\n      meta\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"relative mb20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      id: \"save-address\",\n      className: \"form-input bs-1 w100\",\n      placeholder: \"Address\",\n      type: \"text\"\n    }, input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 29\n      }\n    })), meta.error && meta.touched && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"form-error f10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 31\n      }\n    }, meta.error))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      disabled: selectedDashboard === \"\",\n      type: \"submit\",\n      className: \"form-button-p bs-3 font-white mt12 pt8 pb8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 19\n      }\n    }, \"Save\"))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }));\n};\n\nconst mapStateToProps = state => {\n  return {\n    isFetching: state.dashboards.isFetching,\n    currentDashboard: state.dashboards.currentDashboard.values,\n    savedDashboards: state.dashboards.savedDashboards,\n    saveDashboardModal: state.navigation.modal.saveDashboard,\n    tab: state.navigation.tabs.saveDashboard\n  };\n};\n\nconst mapDispatchToProps = {\n  setModal,\n  setTab,\n  saveDashboard,\n  updateDashboard\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SaveDashboardModal);","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/components/Dashboards/SaveDashboardModal.js"],"names":["React","useState","connect","Form","Field","setModal","setTab","saveDashboard","updateDashboard","composeValidators","required","maxLength","minLength","formatDate","CONSTANTS","Button","Icon","Loader","SaveDashboardModal","isFetching","currentDashboard","savedDashboards","tab","selectedDashboard","setSelectedDashboard","handleSave","saveData","dashObject","values","MODALS","SAVEDASHBOARD","handleOverwrite","id","dashboard","filter","d","_id","data","handleCancel","CloseIcon","TABS","SAVE","SaveIcon","OVERWRITE","OverwriteIcon","handleSubmit","form","input","meta","error","touched","length","map","i","type","investor","description","date","mapStateToProps","state","dashboards","saveDashboardModal","navigation","modal","tabs","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Field } from \"react-final-form\";\nimport { setModal, setTab } from \"../../reducers/navigationReducer\";\nimport {\n  saveDashboard,\n  updateDashboard,\n} from \"../../reducers/dashboardReducer\";\nimport {\n  composeValidators,\n  required,\n  maxLength,\n  minLength,\n} from \"../../utils/formValidatorHelper\";\nimport { formatDate } from \"../../utils/dashboardHelper\";\nimport { CONSTANTS } from \"../../static/constants\";\nimport Button from \"../Shared/Button\";\nimport { Icon } from \"../Shared/Icon\";\nimport Loader from \"../Shared/Loader\";\nimport CloseIcon from \"../../styles/svg/close.svg\";\nimport SaveIcon from \"../../styles/svg/save.svg\";\nimport OverwriteIcon from \"../../styles/svg/overwrite.svg\";\n\nconst SaveDashboardModal = ({\n  isFetching,\n  currentDashboard,\n  savedDashboards,\n  setModal,\n  saveDashboard,\n  updateDashboard,\n  setTab,\n  tab,\n}) => {\n  const [selectedDashboard, setSelectedDashboard] = useState(\"\");\n\n  const handleSave = async (saveData) => {\n    const dashObject = {\n      values: currentDashboard,\n      ...saveData,\n    };\n\n    await saveDashboard(dashObject);\n    setModal(CONSTANTS.MODALS.SAVEDASHBOARD, false);\n  };\n\n  const handleOverwrite = async (id) => {\n    // Original saved data\n    const dashboard = savedDashboards.filter((d) => d._id === id);\n    // New data\n    dashboard.data = currentDashboard;\n    await updateDashboard(dashboard);\n    setModal(CONSTANTS.MODALS.SAVEDASHBOARD, false);\n  };\n\n  const handleCancel = () => {\n    // React Final Form handles preventDefault()\n    setModal(CONSTANTS.MODALS.SAVEDASHBOARD, false);\n  };\n\n  return (\n    <div className=\"modal mt60 fixed r bs-3 bg-1 p20\">\n      <Button\n        ariaLabel={\"Close\"}\n        dataBalloonPos={\"left\"}\n        extraClass={\"modal-close-btn mt20 mr20 button-p align-c justify-c\"}\n        onClick={handleCancel}\n        iconUrl={CloseIcon}\n        iconColor={\"white\"}\n      />\n      <h2 className=\"f20 bold mb16\">Save Dashboard</h2>\n      <div className=\"flex-row\">\n        <button\n          type=\"button\"\n          className={`save-opt button-transp-s rt pl16 pr16 flex-row align-c justify-c jump ${\n            tab === CONSTANTS.TABS.SAVEDASHBOARD.SAVE ? \"active\" : \"\"\n          }`}\n          onClick={() =>\n            setTab(\"saveDashboard\", CONSTANTS.TABS.SAVEDASHBOARD.SAVE)\n          }\n        >\n          <Icon\n            size={\"20px\"}\n            url={SaveIcon}\n            color={\"black\"}\n            hover={false}\n            active={false}\n          />\n          <span className=\"ml8 f16 bold\">Save New</span>\n        </button>\n        <button\n          type=\"button\"\n          className={`save-opt button-transp-s rt pl16 pr16 flex-row align-c justify-c jump ${\n            tab === CONSTANTS.TABS.SAVEDASHBOARD.OVERWRITE ? \"active\" : \"\"\n          }`}\n          onClick={() =>\n            setTab(\"saveDashboard\", CONSTANTS.TABS.SAVEDASHBOARD.OVERWRITE)\n          }\n        >\n          <Icon\n            size={\"20px\"}\n            url={OverwriteIcon}\n            color={\"black\"}\n            hover={false}\n            active={false}\n          />\n          <span className=\"ml8 f16 bold\">Overwrite Existing</span>\n        </button>\n      </div>\n      {isFetching && <Loader />}\n      {!isFetching && tab === CONSTANTS.TABS.SAVEDASHBOARD.SAVE && (\n        <Form\n          onSubmit={handleSave}\n          render={({ handleSubmit, form }) => (\n            <form className=\"save-form mt20 mb20\" onSubmit={handleSubmit}>\n              <div className=\"flex-row align-c relative\">\n                <label htmlFor=\"save-description\" className=\"f16 mb8\">\n                  Description\n                  <span className=\"font-red f12 bold ml4\">*</span>\n                </label>\n              </div>\n              <Field\n                name=\"description\"\n                validate={composeValidators(\n                  required,\n                  minLength(3),\n                  maxLength(200)\n                )}\n              >\n                {({ input, meta }) => (\n                  <div className=\"relative mb20\">\n                    <input\n                      id=\"save-description\"\n                      className=\"form-input bs-1 w100\"\n                      placeholder=\"Description\"\n                      type=\"text\"\n                      {...input}\n                    />\n                    {meta.error && meta.touched && (\n                      <span className=\"form-error f10\">{meta.error}</span>\n                    )}\n                  </div>\n                )}\n              </Field>\n              <div className=\"flex-row align-c relative\">\n                <label htmlFor=\"save-description\" className=\"f16 mb8\">\n                  Address\n                  <span className=\"font-red f12 bold ml4\">*</span>\n                </label>\n              </div>\n              <Field\n                name=\"address\"\n                validate={composeValidators(\n                  required,\n                  minLength(3),\n                  maxLength(200)\n                )}\n              >\n                {({ input, meta }) => (\n                  <div className=\"relative mb20\">\n                    <input\n                      id=\"save-address\"\n                      className=\"form-input bs-1 w100\"\n                      placeholder=\"Address\"\n                      type=\"text\"\n                      {...input}\n                    />\n                    {meta.error && meta.touched && (\n                      <span className=\"form-error f10\">{meta.error}</span>\n                    )}\n                  </div>\n                )}\n              </Field>\n              <div className=\"form-buttons\">\n                <button\n                  type=\"submit\"\n                  className=\"form-button-p bs-3 font-white mt12 pt8 pb8\"\n                >\n                  Save As\n                </button>\n              </div>\n            </form>\n          )}\n        />\n      )}\n      {!isFetching &&\n        tab === CONSTANTS.TABS.SAVEDASHBOARD.OVERWRITE &&\n        savedDashboards.length === 0 && (\n          <div className=\"mt20 f16\">No saved dashboards...</div>\n        )}\n      {!isFetching &&\n        tab === CONSTANTS.TABS.SAVEDASHBOARD.OVERWRITE &&\n        savedDashboards.length > 0 && (\n          <Form\n            onSubmit={handleOverwrite}\n            render={({ handleSubmit, form, values }) => (\n              <form className=\"save-form mt20 mb20\" onSubmit={handleSubmit}>\n                <div className=\"flex-row align-c relative\">\n                  <label htmlFor=\"save-overwrite\" className=\"f16 mb8\">\n                    Dashboard\n                    <span className=\"font-red f12 bold ml4\">*</span>\n                  </label>\n                </div>\n                <Field name=\"dashboard\" validate={required}>\n                  {({ input, meta }) => (\n                    <div className=\"mh300 o-y-auto\">\n                      <table\n                        id=\"save-overwrite\"\n                        className=\"overpayments w100 mb20\"\n                      >\n                        <thead>\n                          <tr>\n                            <th className=\"h768\">Ref</th>\n                            <th>Description</th>\n                            <th className=\"h768\">Type</th>\n                            <th>Created</th>\n                            <th>Overwrite</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {savedDashboards.map((d, i) => {\n                            let type;\n                            if (d.values.type === \"developer\") {\n                              type = \"Developer\";\n                            } else if (d.values?.investor) {\n                              type = \"Investor\";\n                            } else {\n                              type = \"Owner Occupier\";\n                            }\n                            return (\n                              <tr\n                                key={i}\n                                onClick={() =>\n                                  selectedDashboard === d._id\n                                    ? setSelectedDashboard(\"\")\n                                    : setSelectedDashboard(d._id)\n                                }\n                                className={`${\n                                  d._id === selectedDashboard ? \"selected\" : \"\"\n                                }`}\n                              >\n                                <td className=\"h768\">{i + 1}</td>\n                                <td>{d.description}</td>\n                                <td className=\"h768\">{type}</td>\n                                <td>{formatDate(d.date)}</td>\n                                <td>\n                                  <input\n                                    className=\"ml16\"\n                                    type=\"checkbox\"\n                                    checked={d._id === selectedDashboard}\n                                    value={d._id}\n                                    onChange={() => setSelectedDashboard(d._id)}\n                                  />\n                                </td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </table>\n                      <div className=\"flex-row align-c relative\">\n                        <label htmlFor=\"save-description\" className=\"f16 mb8\">\n                          Description\n                          <span className=\"font-red f12 bold ml4\">*</span>\n                        </label>\n                      </div>\n                      <Field\n                        name=\"description\"\n                        validate={composeValidators(\n                          required,\n                          minLength(3),\n                          maxLength(200)\n                        )}\n                      >\n                        {({ input, meta }) => (\n                          <div className=\"relative mb20\">\n                            <input\n                              id=\"save-description\"\n                              className=\"form-input bs-1 w100\"\n                              placeholder=\"Description\"\n                              type=\"text\"\n                              {...input}\n                            />\n                            {meta.error && meta.touched && (\n                              <span className=\"form-error f10\">\n                                {meta.error}\n                              </span>\n                            )}\n                          </div>\n                        )}\n                      </Field>\n                      <div className=\"flex-row align-c relative\">\n                        <label htmlFor=\"save-description\" className=\"f16 mb8\">\n                          Address\n                          <span className=\"font-red f12 bold ml4\">*</span>\n                        </label>\n                      </div>\n                      <Field\n                        name=\"address\"\n                        validate={composeValidators(\n                          required,\n                          minLength(3),\n                          maxLength(200)\n                        )}\n                      >\n                        {({ input, meta }) => (\n                          <div className=\"relative mb20\">\n                            <input\n                              id=\"save-address\"\n                              className=\"form-input bs-1 w100\"\n                              placeholder=\"Address\"\n                              type=\"text\"\n                              {...input}\n                            />\n                            {meta.error && meta.touched && (\n                              <span className=\"form-error f10\">\n                                {meta.error}\n                              </span>\n                            )}\n                          </div>\n                        )}\n                      </Field>\n                    </div>\n                  )}\n                </Field>\n                <div className=\"form-buttons\">\n                  <button\n                    disabled={selectedDashboard === \"\"}\n                    type=\"submit\"\n                    className=\"form-button-p bs-3 font-white mt12 pt8 pb8\"\n                  >\n                    Save\n                  </button>\n                </div>\n              </form>\n            )}\n          />\n        )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    isFetching: state.dashboards.isFetching,\n    currentDashboard: state.dashboards.currentDashboard.values,\n    savedDashboards: state.dashboards.savedDashboards,\n    saveDashboardModal: state.navigation.modal.saveDashboard,\n    tab: state.navigation.tabs.saveDashboard,\n  };\n};\n\nconst mapDispatchToProps = {\n  setModal,\n  setTab,\n  saveDashboard,\n  updateDashboard,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SaveDashboardModal);\n"]},"metadata":{},"sourceType":"module"}