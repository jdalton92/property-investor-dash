{"ast":null,"code":"var _jsxFileName = \"/home/james/development/property-investor-dash/client/src/components/CalculatorInputs/OccupierForm.js\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { testDashboard, getDashboard } from \"../../reducers/dashboardReducer\";\nimport { setAccordian, setModal } from \"../../reducers/navigationReducer\";\nimport { CONSTANTS } from \"../../static/constants\";\nimport { helperMessage } from \"../../static/helperMessageText\";\nimport HelperMessage from \"../Shared/HelperMessage\";\nimport Loader from \"../Shared/Loader\";\nimport OwnerOccupierInvestorInputs from \"./OwnerOccupierInvestorInputs\";\n\nconst OccupierForm = ({\n  setModal,\n  testDashboard,\n  dashboards,\n  getDashboard\n}) => {\n  const id = useParams().id;\n  const history = useHistory();\n  useEffect(() => {\n    if (id && !dashboards.preSave) {\n      getDashboard(id);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [id]);\n\n  const onSubmit = values => {\n    setModal(\"disclaimer\");\n    values.investor = false;\n    values.type = \"occupierInvestor\";\n    testDashboard(values);\n    history.push(\"/owner-occupier/dash\");\n  };\n\n  if (dashboards.isFetching) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 12\n      }\n    });\n  } else {\n    // const initialValues =\n    //   dashboards.preSave || id ? dashboards.data[0].values : {overPayments: [{}]};\n    const initialValues = {\n      housePrice: 1000000,\n      deposit: 200000,\n      loanType: \"principalAndInterest\",\n      interestRate: 3.5,\n      homeloanTerm: 30,\n      overPayments: [{}],\n      investmentPeriod: 15,\n      sellingCosts: 3,\n      capitalGrowth: 3.5,\n      upfrontCosts: 3,\n      recurringCosts: 1000,\n      rentalYield: 3,\n      investor: false,\n      inflation: 3\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"f24 bold mt16 mb16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, \"Owner Occupier Inputs\"), /*#__PURE__*/React.createElement(HelperMessage, {\n      type: CONSTANTS.HELPERMESSAGES.OWNEROCCUPIERFORM,\n      body: helperMessage.occupierForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(OwnerOccupierInvestorInputs, {\n      investor: false,\n      initialValues: initialValues,\n      onSubmit: onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }));\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    dashboards: state.dashboards\n  };\n};\n\nconst mapDispatchToProps = {\n  testDashboard,\n  setAccordian,\n  setModal,\n  getDashboard\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(OccupierForm);","map":{"version":3,"sources":["/home/james/development/property-investor-dash/client/src/components/CalculatorInputs/OccupierForm.js"],"names":["React","useEffect","connect","useHistory","useParams","testDashboard","getDashboard","setAccordian","setModal","CONSTANTS","helperMessage","HelperMessage","Loader","OwnerOccupierInvestorInputs","OccupierForm","dashboards","id","history","preSave","onSubmit","values","investor","type","push","isFetching","initialValues","housePrice","deposit","loanType","interestRate","homeloanTerm","overPayments","investmentPeriod","sellingCosts","capitalGrowth","upfrontCosts","recurringCosts","rentalYield","inflation","HELPERMESSAGES","OWNEROCCUPIERFORM","occupierForm","mapStateToProps","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { testDashboard, getDashboard } from \"../../reducers/dashboardReducer\";\nimport { setAccordian, setModal } from \"../../reducers/navigationReducer\";\nimport { CONSTANTS } from \"../../static/constants\";\nimport { helperMessage } from \"../../static/helperMessageText\";\nimport HelperMessage from \"../Shared/HelperMessage\";\nimport Loader from \"../Shared/Loader\";\nimport OwnerOccupierInvestorInputs from \"./OwnerOccupierInvestorInputs\";\n\nconst OccupierForm = ({\n  setModal,\n  testDashboard,\n  dashboards,\n  getDashboard,\n}) => {\n  const id = useParams().id;\n  const history = useHistory();\n\n  useEffect(() => {\n    if (id && !dashboards.preSave) {\n      getDashboard(id);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  const onSubmit = (values) => {\n    setModal(\"disclaimer\");\n    values.investor = false;\n    values.type = \"occupierInvestor\";\n    testDashboard(values);\n    history.push(\"/owner-occupier/dash\");\n  };\n\n  if (dashboards.isFetching) {\n    return <Loader />;\n  } else {\n    // const initialValues =\n    //   dashboards.preSave || id ? dashboards.data[0].values : {overPayments: [{}]};\n\n    const initialValues = {\n      housePrice: 1000000,\n      deposit: 200000,\n      loanType: \"principalAndInterest\",\n      interestRate: 3.5,\n      homeloanTerm: 30,\n      overPayments: [{}],\n      investmentPeriod: 15,\n      sellingCosts: 3,\n      capitalGrowth: 3.5,\n      upfrontCosts: 3,\n      recurringCosts: 1000,\n      rentalYield: 3,\n      investor: false,\n      inflation: 3,\n    };\n    return (\n      <>\n        <h1 className=\"f24 bold mt16 mb16\">Owner Occupier Inputs</h1>\n        <HelperMessage\n          type={CONSTANTS.HELPERMESSAGES.OWNEROCCUPIERFORM}\n          body={helperMessage.occupierForm}\n        />\n        <OwnerOccupierInvestorInputs\n          investor={false}\n          initialValues={initialValues}\n          onSubmit={onSubmit}\n        />\n      </>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    dashboards: state.dashboards,\n  };\n};\n\nconst mapDispatchToProps = {\n  testDashboard,\n  setAccordian,\n  setModal,\n  getDashboard,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OccupierForm);\n"]},"metadata":{},"sourceType":"module"}